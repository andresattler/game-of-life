{"version":3,"sources":["webpack:///bundle.951b43.js","webpack:///webpack/bootstrap af81ae5a33c35ea2e95d","webpack:///./src/index.js","webpack:///./node_modules/offline-plugin/runtime.js","webpack:///./src/create-field.js","webpack:///./src/next.js","webpack:///./src/transform.js","webpack:///./src/web-gl-renderer.js"],"names":["modules","__webpack_require__","moduleId","installedModules","exports","module","i","l","call","m","c","d","name","getter","o","Object","defineProperty","configurable","enumerable","get","n","__esModule","object","property","prototype","hasOwnProperty","p","s","_interopRequireDefault","obj","default","_toConsumableArray","arr","Array","isArray","arr2","length","from","updateFieldDimensions","fieldEl","width","window","innerWidth","height","innerHeight","state","size","newFieldDimensions","Math","sqrt","nrOfCells","floor","render","nextPattern","pattern","slice","_webGlRenderer2","_transform2","paint","cX","cY","draw","row","x","index","pause","play","playPauseIcon","classList","toggle","handleRezise","resizeTimeout","setTimeout","SpeedDown","e","speed","SpeedUp","handleRandom","cell","random","handlePlay","sleep","ms","Promise","resolve","then","_next2","fieldModel","handleNext","handleClear","handleAdd","filename","target","dataset","fetch","data","json","middle","y","j","nextState","toggleAddModal","document","getElementById","handlePaint","clientX","clientY","handleDraw","stop","removeEventListener","addEventListener","changedTouches","_runtime","_createField","_createField2","_next","_transform","_webGlRenderer","install","nameListEl","forEach","div","createElement","innerHTML","className","appendChild","currentTarget","hasSW","navigator","documentElement","style","location","protocol","hostname","indexOf","options","serviceWorker","register","applicationCache","doLoad","iframe","src","directory","display","appCacheIframe","body","readyState","applyUpdate","callback","errback","update","getRegistration","registration","contentWindow","value","getNeighbors","total","createField","concat","keys","map","val","id","neighbors","next","field","push","alive","livingNeighbors","reduce","sum","toCheck","transform","v","webGLRenderer","gl","clearColor","clear","COLOR_BUFFER_BIT","vertexShader","createShader","VERTEX_SHADER","shaderSource","compileShader","fragmentShader","FRAGMENT_SHADER","program","createProgram","attachShader","linkProgram","vertices","Float32Array","buffer","createBuffer","bindBuffer","ARRAY_BUFFER","bufferData","STATIC_DRAW","useProgram","color","getUniformLocation","uniform4fv","resolution","uniform2f","canvas","position","getAttribLocation","enableVertexAttribArray","vertexAttribPointer","FLOAT","viewport","drawArrays","TRIANGLES","fieldCanvas","getContext"],"mappings":"CAAS,SAAUA,GCInB,QAAAC,GAAAC,GAGA,GAAAC,EAAAD,GACA,MAAAC,GAAAD,GAAAE,OAGA,IAAAC,GAAAF,EAAAD,IACAI,EAAAJ,EACAK,GAAA,EACAH,WAUA,OANAJ,GAAAE,GAAAM,KAAAH,EAAAD,QAAAC,IAAAD,QAAAH,GAGAI,EAAAE,GAAA,EAGAF,EAAAD,QAvBA,GAAAD,KA4BAF,GAAAQ,EAAAT,EAGAC,EAAAS,EAAAP,EAGAF,EAAAU,EAAA,SAAAP,EAAAQ,EAAAC,GACAZ,EAAAa,EAAAV,EAAAQ,IACAG,OAAAC,eAAAZ,EAAAQ,GACAK,cAAA,EACAC,YAAA,EACAC,IAAAN,KAMAZ,EAAAmB,EAAA,SAAAf,GACA,GAAAQ,GAAAR,KAAAgB,WACA,WAA2B,MAAAhB,GAAA,SAC3B,WAAiC,MAAAA,GAEjC,OADAJ,GAAAU,EAAAE,EAAA,IAAAA,GACAA,GAIAZ,EAAAa,EAAA,SAAAQ,EAAAC,GAAsD,MAAAR,QAAAS,UAAAC,eAAAjB,KAAAc,EAAAC,IAGtDtB,EAAAyB,EAAA,GAGAzB,IAAA0B,EAAA,KDMM,SAAUtB,EAAQD,EAASH,GAEjC,YAuBA,SAAS2B,GAAuBC,GAAO,MAAOA,IAAOA,EAAIR,WAAaQ,GAAQC,QAASD,GAEvF,QAASE,GAAmBC,GAAO,GAAIC,MAAMC,QAAQF,GAAM,CAAE,IAAK,GAAI1B,GAAI,EAAG6B,EAAOF,MAAMD,EAAII,QAAS9B,EAAI0B,EAAII,OAAQ9B,IAAO6B,EAAK7B,GAAK0B,EAAI1B,EAAM,OAAO6B,GAAe,MAAOF,OAAMI,KAAKL,GEjE1L,QAASM,KACPC,EAAQC,MAAQC,OAAOC,WACvBH,EAAQI,OAA8B,GAArBF,OAAOG,YACxBC,EAAMC,KAAOP,EAAQC,MAAQK,EAAMF,OAGrC,QAASI,KACPF,EAAMC,KAAOE,KAAKC,KAAMR,OAAOC,YAAmC,GAArBD,OAAOG,aAAsBC,EAAMK,WAChFL,EAAML,MAAQQ,KAAKG,MAAMV,OAAOC,WAAaG,EAAMC,MACnDD,EAAMF,OAASE,EAAMK,UAAYL,EAAML,MAGzC,QAASY,GAAQC,GACfR,EAAMS,QAAUD,EAAYE,SAC5B,EAAAC,EAAA1B,UAAc,EAAA2B,EAAA3B,SAAUe,IAG1B,QAASa,GAAOC,EAAIC,EAAIC,GACtB,GAAMR,GAAcR,EAAMS,QAAQC,QAC5BT,EAAOP,EAAQC,MAAQK,EAAML,MAC7BsB,EAAMd,KAAKG,MAAMS,EAAKd,GACtBiB,EAAIf,KAAKG,MAAMQ,EAAKb,EAAO,GAC3BkB,EAAQD,EAAKD,EAAMjB,EAAML,MAAS,CACxCa,GAAYW,KAASH,IAAeR,EAAYW,GAChDZ,EAAOC,GAqBT,QAASY,KACPpB,EAAMqB,MAAO,EACbC,EAAcC,UAAUC,OAAO,WAC/BF,EAAcC,UAAUC,OAAO,YAIjC,QAASC,KACP,GAAIC,SACCA,KACHA,EAAgBC,WAAW,WACzBD,EAAgB,KAChBjC,OAKN,QAASmC,GAAWC,GACd7B,EAAM8B,MAAQ,MAChB9B,EAAM8B,OAAS,IAMnB,QAASC,KACH/B,EAAM8B,MAAQ,KAChB9B,EAAM8B,OAAS,IAInB,QAASE,KACP9B,GAEAK,GADsB,SAAAhB,GAAA,MAAUH,OAAMI,KAAK,GAAIJ,OAAMG,GAAS,iBAAM,UAAA0C,GAAA,MAAQ9B,MAAK+B,SAAW,QACvElC,EAAMK,YAG7B,QAAS8B,GAAYN,GAInB,QAASO,GAAOC,GACd,MAAO,IAAIC,SAAQ,SAAAC,GAAA,MAAWZ,YAAWY,EAASF,KAJpDrC,EAAMqB,MAAQrB,EAAMqB,KACpBC,EAAcC,UAAUC,OAAO,WAC/BF,EAAcC,UAAUC,OAAO,aAIlB,QAAPH,KACJe,EAAMpC,EAAM8B,OAAOU,KAAK,WACtBjC,GAAO,EAAAkC,EAAAxD,SAAKyD,IAAc1C,EAAMS,UAC5BT,EAAMqB,MACRA,SAOR,QAASsB,KACPpC,GAAO,EAAAkC,EAAAxD,SAAKyD,IAAc1C,EAAMS,UAGlC,QAASmC,KACP1C,IACAF,EAAMqB,MAAQD,IACdb,EAAOnB,MAAMI,KAAK,GAAIJ,OAAMY,EAAMK,WAAY,kBAAM,KAGtD,QAASwC,GAAWhB,GAClB3B,GACA,IAAM4C,GAAWjB,EAAEkB,OAAOC,QAAQF,QAC9BA,IACFG,2BAA2BH,EAA3B,SACCN,KAAK,SAAAU,GAAA,MAAQA,GAAKC,SAClBX,KAAK,SAAAW,GAKJ,IAAK,GAJCC,GAAShE,MAAMI,KAAK,GAAIJ,OAAM+D,EAAKD,KAAKG,EAAIrD,EAAML,OAAQ,kBAAM,IAGlEpB,EAAI,EACCd,EAAI,EAAGA,EAAI0F,EAAKD,KAAKG,EAAG5F,IAC/B,IAAK,GAAI6F,GAAI,EAAGA,EAAIH,EAAKD,KAAKhC,EAAGoC,IAC/BF,EAAOE,EAJI,GAIS7F,EAAIuC,EAAML,OAASwD,EAAK1C,QAAQlC,GACpDA,GAQJgC,MALMgD,SACDnE,MAAMI,KAAK,GAAIJ,OAVL,GAUoBY,EAAML,OAAQ,kBAAM,KADjDT,EAEDkE,GAFClE,EAGDE,MAAMI,KAAK,GAAIJ,OAZL,GAYoBY,EAAML,OAAQ,kBAAM,OAGvD6D,MAKN,QAASA,KACPC,SAASC,eAAe,aAAanC,UAAUC,OAAO,WAGxD,QAASmC,GAAa9B,GACpBhB,EAAMgB,EAAE+B,QAAS/B,EAAEgC,SAGrB,QAASC,GAAYjC,GACnB,QAASkC,KACPlC,EAAEkB,OAAOiB,oBAAoB,YAAahD,GAE5C,QAASA,GAAMa,GACbhB,EAAMgB,EAAE+B,QAAS/B,EAAEgC,SAAS,GAE9BhC,EAAEkB,OAAOkB,iBAAiB,YAAa,SAACpC,GAAD,MAAOb,GAAKa,EAAEqC,eAAe,MACpErC,EAAEkB,OAAOkB,iBAAiB,YAAajD,GACvCa,EAAEkB,OAAOkB,iBAAiB,WAAY,SAACpC,GAAD,MAAOkC,GAAKlC,EAAEqC,eAAe,MACnErC,EAAEkB,OAAOkB,iBAAiB,UAAWF,GAxLvC,GAAAI,GAAA/G,EAAA,EAEAA,GAAA,EAEA,IAAAgH,GAAAhH,EAAA,GFyEIiH,EAAgBtF,EAAuBqF,GExE3CE,EAAAlH,EAAA,GF4EIqF,EAAS1D,EAAuBuF,GE3EpCC,EAAAnH,EAAA,GF+EIwD,EAAc7B,EAAuBwF,GE9EzCC,EAAApH,EAAA,GFkFIuD,EAAkB5B,EAAuByF,IE9E3C,EAAAL,EAAAM,UAIF,IAAMzE,IACJqB,MAAM,EACNS,MAAO,IACPrB,QAASrB,MAAMI,KAAK,GAAIJ,OAAM,MAAQ,kBAAM,IAC5CO,MAAO,IACPG,OAAQ,IACRO,UAAW,MAGPX,EAAU+D,SAASC,eAAe,SAClCpC,EAAgBmC,SAASC,eAAe,mBACxChB,EAAa,kBAAM,EAAA2B,EAAApF,SAAYe,EAAML,MAAOK,EAAMF,QA8BxDmD,OAAM,gCACLT,KAAK,SAAAU,GAAA,MAAQA,GAAKC,SAClBX,KAAK,SAACW,GACL,GAAMuB,GAAajB,SAASC,eAAe,YAC3CP,GAAKwB,QAAQ,SAAClE,GACZ,GAAMmE,GAAMnB,SAASoB,cAAc,MACnCD,GAAIE,UAAYrE,EAAQ1C,KACxB6G,EAAIG,UAAY,OAChBH,EAAI5B,QAAQF,SAAWrC,EAAQqC,SAC/B4B,EAAWM,YAAYJ,OAI3BnF,IACAS,IACAK,EAAOP,EAAMS,SAoHbb,OAAOqE,iBAAiB,SAAUxC,GAElCgC,SAASC,eAAe,YAAYO,iBAAiB,QAASlC,GAC9D0B,SAASC,eAAe,cAAcO,iBAAiB,QAASrC,GAChE6B,SAASC,eAAe,UAAUO,iBAAiB,QAASjC,GAC5DyB,SAASC,eAAe,cAAcO,iBAAiB,QAAS9B,GAChEsB,SAASC,eAAe,QAAQO,iBAAiB,QAAStB,GAC1Dc,SAASC,eAAe,SAASO,iBAAiB,QAASrB,GAC3Da,SAASC,eAAe,iBAAiBO,iBAAiB,QAAST,GAEnEC,SAASC,eAAe,aAAaO,iBAAiB,QAASpB,GAC/DY,SAASC,eAAe,aAAaO,iBAAiB,QAAS,SAACpC,GAC9DA,EAAEkB,SAAWlB,EAAEoD,eAAiBzB,MAGlCC,SAASC,eAAe,SAASO,iBAAiB,QAASN,GAC3DF,SAASC,eAAe,SAASO,iBAAiB,aAAc,SAACpC,GAAQiC,EAAWjC,EAAEqC,eAAe,MACrGT,SAASC,eAAe,SAASO,iBAAiB,YAAaH,IFiHzD,SAAUtG,EAAQD,GG5TxB,QAAA2H,KACA,uBAAAC,aAGAvF,OAAAqD,OAAA,kBAAAQ,UAAA2B,gBAAAC,SACA,WAAAzF,OAAA0F,SAAAC,UAAA,cAAA3F,OAAA0F,SAAAE,UAAA,IAAA5F,OAAA0F,SAAAE,SAAAC,QAAA,SAGA,QAAAhB,GAAAiB,GAIA,GAHAA,UAGAR,IACA,CAAAC,UAAAQ,cACAC,SACA,2BAWA,IAAAhG,OAAAiG,iBAAA,CACA,GAGAC,GAAA,WACA,GACAC,GAAAtC,SAAAoB,cAAA,SAIAkB,GAAAC,IALAC,uCAMAF,EAAAV,MAAAa,QAAA,OAEAC,EAAAJ,EACAtC,SAAA2C,KAAApB,YAAAe,GASA,aANA,aAAAtC,SAAA4C,WACA1E,WAAAmE,GAEAlG,OAAAqE,iBAAA,OAAA6B,KAQA,QAAAQ,GAAAC,EAAAC,IAMA,QAAAC,KAWA,GATAvB,KACAC,UAAAQ,cAAAe,kBAAAlE,KAAA,SAAAmE,GACA,GAAAA,EACA,MAAAA,GAAAF,WAMAN,EACA,IACAA,EAAAS,cAAAf,iBAAAY,SACO,MAAA5E,KA5EP,GAAAsE,EAmFA5I,GAAAkH,UACAlH,EAAA+I,cACA/I,EAAAkJ,UHqUM,SAAUjJ,EAAQD,KAMlB,SAAUC,EAAQD,EAASH,GAEjC,YAOA,SAAS8B,GAAmBC,GAAO,GAAIC,MAAMC,QAAQF,GAAM,CAAE,IAAK,GAAI1B,GAAI,EAAG6B,EAAOF,MAAMD,EAAII,QAAS9B,EAAI0B,EAAII,OAAQ9B,IAAO6B,EAAK7B,GAAK0B,EAAI1B,EAAM,OAAO6B,GAAe,MAAOF,OAAMI,KAAKL,GAJ1LjB,OAAOC,eAAeZ,EAAS,cAC7BsJ,OAAO,GItaT,IAAMC,GAAe,SAACrJ,EAAGyD,EAAGmC,GAC1B,GAAM0D,GAAQ7F,EAAImC,EAAI,CAEtB,OAAU,KAAN5F,GAEAyD,EAAI,EACJ6F,EACAA,EAAQ7F,EAAI,EACZ6F,EAAQ7F,EAAI,EACZ,EACAA,EAAI,EACJA,EACI,EAAJA,EAAQ,GAIRzD,IAAMyD,EAAI,GAEVA,EAAI,EACJ6F,EAAQ,EACRA,EACAA,EAAQ7F,EAAI,EACZ,EACAzD,EAAIyD,EACJzD,EAAIyD,EAAI,GAIRzD,IAAMsJ,EAAQ7F,EAAI,GAElB6F,EACAA,EAAQ7F,EACRzD,EAAIyD,EACJzD,EAAIyD,EAAI,EACRzD,EAAI,EACJ,EACA,EACAyD,EAAI,GAIJzD,IAAMsJ,GAENtJ,EAAI,EACJA,EAAIyD,EAAI,EACRzD,EAAIyD,EACJ6F,EAAY,EAAJ7F,EAAQ,EAChB6F,EAAQ7F,EAAI,EACZ,EACAA,EAAI,EACJA,EAAI,GAIJzD,EAAIyD,GAEJzD,EAAI,EACJsJ,GAAS7F,EAAI,EAAIzD,GAAK,EACtBsJ,GAAS7F,EAAI,EAAIzD,GACjBsJ,GAAS7F,EAAI,EAAIzD,GAAK,EACtBA,EAAI,EACJA,EAAIyD,EAAI,EACRzD,EAAIyD,EACJzD,EAAIyD,EAAI,GAIRzD,EAAIsJ,EAAQ7F,GAEZzD,EAAI,EACJA,EAAIyD,EAAI,EACRzD,EAAIyD,EACJzD,EAAIyD,EAAI,EACRzD,EAAI,EACJyD,EAAI,GAAK6F,EAAQtJ,GAAK,EACtByD,EAAI,GAAK6F,EAAQtJ,GACjByD,EAAI,GAAK6F,EAAQtJ,GAAK,IAIrBA,EAAI,GAAKyD,GAAM,GAEhBzD,EAAI,EACJA,EAAIyD,EAAI,EACRzD,EAAIyD,EACJzD,GAAU,EAAJyD,EAAS,GACfzD,EAAI,EAAIyD,EACRzD,EAAI,EACJA,EAAIyD,EACJzD,EAAIyD,EAAI,GAIRzD,EAAIyD,GAAM,GAEVzD,EAAIyD,EAAI,EACRzD,EAAI,EACJA,EAAIyD,EACJzD,EAAIyD,EAAI,EACRzD,EAAI,EACJA,EAAIyD,EAAI,EACRzD,EAAIyD,EACJzD,EAAI,EAAIyD,EAAI,IAIdzD,EAAI,EACJA,EAAIyD,EAAI,EACRzD,EAAIyD,EACJzD,EAAIyD,EAAI,EACRzD,EAAI,EACJA,EAAIyD,EAAI,EACRzD,EAAIyD,EACJzD,EAAIyD,EAAI,IAIN8F,EAAc,SAAC9F,EAAGmC,GAAJ,SAClB4D,OAAA/H,EAAIE,MAAM8B,EAAImC,GAAG6D,SACdC,IAAI,SAACC,EAAK3J,GAAN,OAED4J,GAAI5J,EACJ6J,UAAWR,EAAarJ,EAAGyD,EAAGmC,MJyYtC9F,GAAQ0B,QItYO+H,GJ0YT,SAAUxJ,EAAQD,EAASH,GAEjC,YAGAc,QAAOC,eAAeZ,EAAS,cAC7BsJ,OAAO,GK5gBT,IAAMU,GAAO,SAACC,EAAOxH,GAEnB,IAAK,GADCS,MACGhD,EAAI,EAAGA,EAAI+J,EAAMjI,OAAQ9B,IAAK,CAerCgD,EAAQgH,KAdQ,SAACC,EAAOJ,GACtB,GAAMK,GAAkBL,EAAUM,OAAO,SAACC,EAAKC,GAAN,MACrC9H,GAAM8H,GAAWD,EAAM,EAAIA,GAAK,EACpC,SAAIH,GAASC,EAAkB,QAG3BD,GAASC,GAAmB,GAAKA,GAAmB,KAGnDD,GAA6B,IAApBC,IAKK3H,EAAMvC,GAAI+J,EAAM/J,GAAG6J,YAE1C,MAAO7G,GLmhBTlD,GAAQ0B,QKhhBOsI,GLohBT,SAAU/J,EAAQD,EAASH,GAEjC,YM5iBA,SAAS2K,GAAW/H,GAMlB,IAAK,GALCgI,MACF/G,EAAM,EACNC,EAAI,EACJmC,EAAI,EACFpD,EAAOD,EAAMC,KACVxC,EAAI,EAAGA,EAAIuC,EAAMK,UAAW5C,GAAK,EACxCyD,GAAKjB,EACDD,EAAMS,QAAQhD,IAChBuK,EAAEP,KAEAvG,EAAGmC,EACHnC,EAAIjB,EAAMoD,EACVnC,EAAGmC,EAAIpD,EAEPiB,EAAGmC,EAAIpD,EACPiB,EAAIjB,EAAMoD,EAAIpD,EACdiB,EAAIjB,EAAMoD,GAGV5F,IAAMuC,EAAML,OAASsB,EAAM,GAAK,IAElCA,IACAoC,GAAKpD,EACLiB,EAAI,EAGR,OAAO8G,GNohBT9J,OAAOC,eAAeZ,EAAS,cAC7BsJ,OAAO,IAiCTtJ,EAAQ0B,QMnjBO8I,GNujBT,SAAUvK,EAAQD,EAASH,GAEjC,YOnlBA,SAAS6K,GAAeD,GAGtB,GAFAE,EAAGC,WAAW,IAAM,IAAM,IAAM,GAChCD,EAAGE,MAAMF,EAAGG,kBACRL,EAAEzI,OAAS,EAAG,CAChB,GAAI+I,GAAeJ,EAAGK,aAAaL,EAAGM,cACtCN,GAAGO,aAAaH,EAAhB,6bAYAJ,EAAGQ,cAAcJ,EAEjB,IAAIK,GAAiBT,EAAGK,aAAaL,EAAGU,gBACxCV,GAAGO,aAAaE,EAAhB,0HAMAT,EAAGQ,cAAcC,EAEjB,IAAIE,GAAUX,EAAGY,eACjBZ,GAAGa,aAAaF,EAASP,GACzBJ,EAAGa,aAAaF,EAASF,GACzBT,EAAGc,YAAYH,EAEf,IAAII,GAAWC,aAAa1J,KAAKwI,GAE7BmB,EAASjB,EAAGkB,cAChBlB,GAAGmB,WAAWnB,EAAGoB,aAAcH,GAC/BjB,EAAGqB,WAAWrB,EAAGoB,aAAcL,EAAUf,EAAGsB,aAE5CtB,EAAGuB,WAAWZ,GACdA,EAAQa,MAAQxB,EAAGyB,mBAAmBd,EAAS,SAC/CX,EAAG0B,WAAWf,EAAQa,OAAQ,EAAG,EAAG,EAAG,IAEvCb,EAAQgB,WAAa3B,EAAGyB,mBAAmBd,EAAS,cACpDX,EAAG4B,UAAUjB,EAAQgB,WAAY3B,EAAG6B,OAAOpK,MAAOuI,EAAG6B,OAAOjK,QAE5D+I,EAAQmB,SAAW9B,EAAG+B,kBAAkBpB,EAAS,YACjDX,EAAGgC,wBAAwBrB,EAAQmB,UACnC9B,EAAGiC,oBAAoBtB,EAAQmB,SAAU,EAAG9B,EAAGkC,OAAO,EAAO,EAAG,GAEhElC,EAAGmC,SAAS,EAAG,EAAGnC,EAAG6B,OAAOpK,MAAOuI,EAAG6B,OAAOjK,QAE7CoI,EAAGoC,WAAWpC,EAAGqC,UAAW,EAAGtB,EAAS1J,OAAS,IPkiBrDrB,OAAOC,eAAeZ,EAAS,cAC7BsJ,OAAO,GO5lBT,IAAM2D,GAAc/G,SAASC,eAAe,SACtCwE,EAAKsC,EAAYC,WAAW,QAClCvC,GAAGC,WAAW,IAAM,IAAM,IAAM,GAChCD,EAAGE,MAAMF,EAAGG,kBPwoBZ9K,EAAQ0B,QO9kBOgJ","file":"bundle.951b43.js","sourcesContent":["/******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId]) {\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/ \t\t}\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\ti: moduleId,\n/******/ \t\t\tl: false,\n/******/ \t\t\texports: {}\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.l = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// define getter function for harmony exports\n/******/ \t__webpack_require__.d = function(exports, name, getter) {\n/******/ \t\tif(!__webpack_require__.o(exports, name)) {\n/******/ \t\t\tObject.defineProperty(exports, name, {\n/******/ \t\t\t\tconfigurable: false,\n/******/ \t\t\t\tenumerable: true,\n/******/ \t\t\t\tget: getter\n/******/ \t\t\t});\n/******/ \t\t}\n/******/ \t};\n/******/\n/******/ \t// getDefaultExport function for compatibility with non-harmony modules\n/******/ \t__webpack_require__.n = function(module) {\n/******/ \t\tvar getter = module && module.__esModule ?\n/******/ \t\t\tfunction getDefault() { return module['default']; } :\n/******/ \t\t\tfunction getModuleExports() { return module; };\n/******/ \t\t__webpack_require__.d(getter, 'a', getter);\n/******/ \t\treturn getter;\n/******/ \t};\n/******/\n/******/ \t// Object.prototype.hasOwnProperty.call\n/******/ \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(__webpack_require__.s = 0);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar _runtime = __webpack_require__(1);\n\n__webpack_require__(2);\n\nvar _createField = __webpack_require__(3);\n\nvar _createField2 = _interopRequireDefault(_createField);\n\nvar _next = __webpack_require__(4);\n\nvar _next2 = _interopRequireDefault(_next);\n\nvar _transform = __webpack_require__(5);\n\nvar _transform2 = _interopRequireDefault(_transform);\n\nvar _webGlRenderer = __webpack_require__(6);\n\nvar _webGlRenderer2 = _interopRequireDefault(_webGlRenderer);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } } /* global fetch */\n\n\n// install service-worker\nif (true) {\n  (0, _runtime.install)();\n}\n\n// global vars\nvar state = {\n  play: false,\n  speed: 500,\n  pattern: Array.from(new Array(54000), function () {\n    return false;\n  }),\n  width: 300,\n  height: 180,\n  nrOfCells: 54000\n};\n\nvar fieldEl = document.getElementById('field');\nvar playPauseIcon = document.getElementById('play-pause-icon');\nvar fieldModel = function fieldModel() {\n  return (0, _createField2.default)(state.width, state.height);\n};\n\nfunction updateFieldDimensions() {\n  fieldEl.width = window.innerWidth;\n  fieldEl.height = window.innerHeight * 0.9;\n  state.size = fieldEl.width / state.height;\n}\n\nfunction newFieldDimensions() {\n  state.size = Math.sqrt(window.innerWidth * (window.innerHeight * 0.9) / state.nrOfCells);\n  state.width = Math.floor(window.innerWidth / state.size);\n  state.height = state.nrOfCells / state.width;\n}\n\nfunction render(nextPattern) {\n  state.pattern = nextPattern.slice();\n  (0, _webGlRenderer2.default)((0, _transform2.default)(state));\n}\n\nfunction paint(cX, cY, draw) {\n  var nextPattern = state.pattern.slice();\n  var size = fieldEl.width / state.width;\n  var row = Math.floor(cY / size);\n  var x = Math.floor(cX / size - 1);\n  var index = x + row * state.width + 1;\n  nextPattern[index] = draw ? true : !nextPattern[index];\n  render(nextPattern);\n}\n\n// initialize app\nfetch('./public/patterns/index.json').then(function (data) {\n  return data.json();\n}).then(function (json) {\n  var nameListEl = document.getElementById('name-list');\n  json.forEach(function (pattern) {\n    var div = document.createElement('div');\n    div.innerHTML = pattern.name;\n    div.className = 'name';\n    div.dataset.filename = pattern.filename;\n    nameListEl.appendChild(div);\n  });\n});\n\nupdateFieldDimensions();\nnewFieldDimensions();\nrender(state.pattern);\n\nfunction pause() {\n  state.play = false;\n  playPauseIcon.classList.toggle('fa-play');\n  playPauseIcon.classList.toggle('fa-pause');\n}\n\n// event handlers\nfunction handleRezise() {\n  var resizeTimeout = void 0;\n  if (!resizeTimeout) {\n    resizeTimeout = setTimeout(function () {\n      resizeTimeout = null;\n      updateFieldDimensions();\n    });\n  }\n}\n\nfunction SpeedDown(e) {\n  if (state.speed < 1000) {\n    state.speed += 50;\n  } else {\n    // To do disable button\n  }\n}\n\nfunction SpeedUp() {\n  if (state.speed > 50) {\n    state.speed -= 50;\n  }\n}\n\nfunction handleRandom() {\n  newFieldDimensions();\n  var randomPattern = function randomPattern(length) {\n    return Array.from(new Array(length), function () {\n      return function (cell) {\n        return Math.random() > 0.75;\n      };\n    });\n  };\n  render(randomPattern(state.nrOfCells));\n}\n\nfunction handlePlay(e) {\n  state.play = !state.play;\n  playPauseIcon.classList.toggle('fa-play');\n  playPauseIcon.classList.toggle('fa-pause');\n  function sleep(ms) {\n    return new Promise(function (resolve) {\n      return setTimeout(resolve, ms);\n    });\n  }\n  var play = function play() {\n    sleep(state.speed).then(function () {\n      render((0, _next2.default)(fieldModel(), state.pattern));\n      if (state.play) {\n        play();\n      }\n    });\n  };\n  play();\n}\n\nfunction handleNext() {\n  render((0, _next2.default)(fieldModel(), state.pattern));\n}\n\nfunction handleClear() {\n  newFieldDimensions();\n  state.play && pause();\n  render(Array.from(new Array(state.nrOfCells), function () {\n    return false;\n  }));\n}\n\nfunction handleAdd(e) {\n  newFieldDimensions();\n  var filename = e.target.dataset.filename;\n  if (filename) {\n    fetch('./public/patterns/' + filename + '.json').then(function (data) {\n      return data.json();\n    }).then(function (json) {\n      var middle = Array.from(new Array(json.data.y * state.width), function () {\n        return false;\n      });\n      var startY = 10;\n      var startX = 10;\n      var n = 0;\n      for (var i = 0; i < json.data.y; i++) {\n        for (var j = 0; j < json.data.x; j++) {\n          middle[j + startX + i * state.width] = json.pattern[n];\n          n++;\n        }\n      }\n      var nextState = [].concat(_toConsumableArray(Array.from(new Array(startY * state.width), function () {\n        return false;\n      })), _toConsumableArray(middle), _toConsumableArray(Array.from(new Array(startY * state.width), function () {\n        return false;\n      })));\n      render(nextState);\n      toggleAddModal();\n    });\n  }\n}\n\nfunction toggleAddModal() {\n  document.getElementById('modal-add').classList.toggle('visible');\n}\n\nfunction handlePaint(e) {\n  paint(e.clientX, e.clientY);\n}\n\nfunction handleDraw(e) {\n  function stop() {\n    e.target.removeEventListener('mousemove', draw);\n  }\n  function draw(e) {\n    paint(e.clientX, e.clientY, true);\n  }\n  e.target.addEventListener('touchmove', function (e) {\n    return draw(e.changedTouches[0]);\n  });\n  e.target.addEventListener('mousemove', draw);\n  e.target.addEventListener('touchend', function (e) {\n    return stop(e.changedTouches[0]);\n  });\n  e.target.addEventListener('mouseup', stop);\n}\n\nwindow.addEventListener('resize', handleRezise);\n\ndocument.getElementById('speed-up').addEventListener('click', SpeedUp);\ndocument.getElementById('speed-down').addEventListener('click', SpeedDown);\ndocument.getElementById('random').addEventListener('click', handleRandom);\ndocument.getElementById('play-pause').addEventListener('click', handlePlay);\ndocument.getElementById('next').addEventListener('click', handleNext);\ndocument.getElementById('clear').addEventListener('click', handleClear);\ndocument.getElementById('add-modal-btn').addEventListener('click', toggleAddModal);\n\ndocument.getElementById('name-list').addEventListener('click', handleAdd);\ndocument.getElementById('modal-add').addEventListener('click', function (e) {\n  e.target === e.currentTarget && toggleAddModal();\n});\n\ndocument.getElementById('field').addEventListener('click', handlePaint);\ndocument.getElementById('field').addEventListener('touchstart', function (e) {\n  handleDraw(e.changedTouches[0]);\n});\ndocument.getElementById('field').addEventListener('mousedown', handleDraw);\n\n/***/ }),\n/* 1 */\n/***/ (function(module, exports) {\n\nvar appCacheIframe;\n\nfunction hasSW() {\n  return 'serviceWorker' in navigator &&\n    // This is how I block Chrome 40 and detect Chrome 41, because first has\n    // bugs with history.pustState and/or hashchange\n    (window.fetch || 'imageRendering' in document.documentElement.style) &&\n    (window.location.protocol === 'https:' || window.location.hostname === 'localhost' || window.location.hostname.indexOf('127.') === 0)\n}\n\nfunction install(options) {\n  options || (options = {});\n\n  \n    if (hasSW()) {\n      var registration = navigator.serviceWorker\n        .register(\n          \"/game-of-life/sw.js\"\n          \n        );\n\n      \n\n      return;\n    }\n  \n\n  \n    if (window.applicationCache) {\n      var directory = \"/game-of-life/appcache/\";\n      var name = \"manifest\";\n\n      var doLoad = function() {\n        var page = directory + name + '.html';\n        var iframe = document.createElement('iframe');\n\n        \n\n        iframe.src = page;\n        iframe.style.display = 'none';\n\n        appCacheIframe = iframe;\n        document.body.appendChild(iframe);\n      };\n\n      if (document.readyState === 'complete') {\n        setTimeout(doLoad);\n      } else {\n        window.addEventListener('load', doLoad);\n      }\n\n      return;\n    }\n  \n}\n\nfunction applyUpdate(callback, errback) {\n  \n\n  \n}\n\nfunction update() {\n  \n    if (hasSW()) {\n      navigator.serviceWorker.getRegistration().then(function(registration) {\n        if (!registration) return;\n        return registration.update();\n      });\n    }\n  \n\n  \n    if (appCacheIframe) {\n      try {\n        appCacheIframe.contentWindow.applicationCache.update();\n      } catch (e) {}\n    }\n  \n}\n\n\n\nexports.install = install;\nexports.applyUpdate = applyUpdate;\nexports.update = update;\n\n\n/***/ }),\n/* 2 */\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n/* 3 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nfunction _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }\n\nvar getNeighbors = function getNeighbors(i, x, y) {\n  var total = x * y - 1;\n  // top corner left\n  if (i === 0) {\n    return [x - 1, total, total - x + 1, total - x + 2, 1, x + 1, x, x * 2 - 1];\n  }\n  // top corner right\n  if (i === x - 1) {\n    return [x - 2, total - 1, total, total - x + 1, 0, i + x, i + x - 1];\n  }\n  // botom corner left\n  if (i === total - x + 1) {\n    return [total, total - x, i - x, i - x + 1, // right-up\n    i + 1, // right\n    1, 0, x - 1];\n  }\n  // botom corner right\n  if (i === total) {\n    return [i - 1, // left\n    i - x - 1, // left-up\n    i - x, // up\n    total - x * 2 + 1, total - x + 1, 0, x - 1, x - 2];\n  }\n  // top edge\n  if (i < x) {\n    return [i - 1, // left\n    total - (x - 1 - i) - 1, // left-up\n    total - (x - 1 - i), // up\n    total - (x - 1 - i) + 1, // right-up\n    i + 1, // right\n    i + x + 1, // down-right\n    i + x, // down\n    i + x - 1 // down-left\n    ];\n  }\n  // botom edge\n  if (i > total - x) {\n    return [i - 1, // left\n    i - x - 1, // left-up\n    i - x, // up\n    i - x + 1, // right-up\n    i + 1, // right\n    x - 1 - (total - i) + 1, x - 1 - (total - i), x - 1 - (total - i) - 1];\n  }\n  // right edge\n  if ((i + 1) % x === 0) {\n    return [i - 1, // left\n    i - x - 1, // left-up\n    i - x, // up\n    i - (x * 2 - 1), // right-up\n    i + 1 - x, // right\n    i + 1, // down-right\n    i + x, // down\n    i + x - 1 // down-left\n    ];\n  }\n  // left edge\n  if (i % x === 0) {\n    return [i + x - 1, // left\n    i - 1, // left-up\n    i - x, // up\n    i - x + 1, // right-up\n    i + 1, // right\n    i + x + 1, // down-right\n    i + x, // down\n    i + 2 * x - 1 // down-left\n    ];\n  }\n  return [i - 1, // left\n  i - x - 1, // left-up\n  i - x, // up\n  i - x + 1, // right-up\n  i + 1, // right\n  i + x + 1, // down-right\n  i + x, // down\n  i + x - 1 // down-left\n  ];\n};\n\nvar createField = function createField(x, y) {\n  return [].concat(_toConsumableArray(Array(x * y).keys())).map(function (val, i) {\n    return {\n      id: i,\n      neighbors: getNeighbors(i, x, y)\n    };\n  });\n};\n\nexports.default = createField;\n\n/***/ }),\n/* 4 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar next = function next(field, state) {\n  var pattern = [];\n  for (var i = 0; i < field.length; i++) {\n    var isAlive = function isAlive(alive, neighbors) {\n      var livingNeighbors = neighbors.reduce(function (sum, toCheck) {\n        return state[toCheck] ? sum + 1 : sum;\n      }, 0);\n      if (alive && livingNeighbors < 2) {\n        return false;\n      }\n      if (alive && livingNeighbors >= 2 && livingNeighbors <= 3) {\n        return true;\n      }\n      if (!alive && livingNeighbors === 3) {\n        return true;\n      }\n      return false;\n    };\n    pattern.push(isAlive(state[i], field[i].neighbors));\n  }\n  return pattern;\n};\n\nexports.default = next;\n\n/***/ }),\n/* 5 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n// transforms state to vertices\nfunction transform(state) {\n  var v = [];\n  var row = 0;\n  var x = 0;\n  var y = 0;\n  var size = state.size;\n  for (var i = 0; i < state.nrOfCells; i += 1) {\n    x += size;\n    if (state.pattern[i]) {\n      v.push(\n      // 1st polygon\n      x, y, // left up\n      x + size, y, // right up\n      x, y + size, // left down\n      // 2nd polygon\n      x, y + size, // left down\n      x + size, y + size, // right down\n      x + size, y // right up\n      );\n    }\n    if (i === state.width * (row + 1) - 1) {\n      // switching to the next row\n      row++;\n      y += size;\n      x = 0;\n    }\n  }\n  return v;\n}\n\nexports.default = transform;\n\n/***/ }),\n/* 6 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nvar fieldCanvas = document.getElementById('field');\nvar gl = fieldCanvas.getContext('webgl');\ngl.clearColor(0.21, 0.25, 0.28, 1);\ngl.clear(gl.COLOR_BUFFER_BIT);\n\nfunction webGLRenderer(v) {\n  gl.clearColor(0.21, 0.25, 0.28, 1);\n  gl.clear(gl.COLOR_BUFFER_BIT);\n  if (v.length > 0) {\n    var vertexShader = gl.createShader(gl.VERTEX_SHADER);\n    gl.shaderSource(vertexShader, '\\n      attribute vec2 position;\\n      uniform vec2 resolution;\\n      void main() {\\n        // convert the position from pixels to 0.0 to 1.0\\n        vec2 zeroToOne = position / resolution;\\n        // convert from 0->1 to 0->2\\n        vec2 zeroToTwo = zeroToOne * 2.0;\\n        // convert from 0->2 to -1->+1 (clipspace)\\n        vec2 clipSpace = zeroToTwo - 1.0;\\n           gl_Position = vec4(clipSpace * vec2(1, -1), 0, 1);\\n      }');\n    gl.compileShader(vertexShader);\n\n    var fragmentShader = gl.createShader(gl.FRAGMENT_SHADER);\n    gl.shaderSource(fragmentShader, '\\n      precision highp float;\\n      uniform vec4 color;\\n      void main() {\\n        gl_FragColor = color;\\n      }');\n    gl.compileShader(fragmentShader);\n\n    var program = gl.createProgram();\n    gl.attachShader(program, vertexShader);\n    gl.attachShader(program, fragmentShader);\n    gl.linkProgram(program);\n\n    var vertices = Float32Array.from(v);\n\n    var buffer = gl.createBuffer();\n    gl.bindBuffer(gl.ARRAY_BUFFER, buffer);\n    gl.bufferData(gl.ARRAY_BUFFER, vertices, gl.STATIC_DRAW);\n\n    gl.useProgram(program);\n    program.color = gl.getUniformLocation(program, 'color');\n    gl.uniform4fv(program.color, [1, 1, 1, 1.0]);\n\n    program.resolution = gl.getUniformLocation(program, 'resolution');\n    gl.uniform2f(program.resolution, gl.canvas.width, gl.canvas.height);\n\n    program.position = gl.getAttribLocation(program, 'position');\n    gl.enableVertexAttribArray(program.position);\n    gl.vertexAttribPointer(program.position, 2, gl.FLOAT, false, 0, 0);\n\n    gl.viewport(0, 0, gl.canvas.width, gl.canvas.height);\n\n    gl.drawArrays(gl.TRIANGLES, 0, vertices.length / 2);\n  }\n}\n\nexports.default = webGLRenderer;\n\n/***/ })\n/******/ ]);\n\n\n// WEBPACK FOOTER //\n// bundle.951b43.js"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap af81ae5a33c35ea2e95d","/* global fetch */\nimport { install } from 'offline-plugin/runtime'\n\nimport './style.styl'\n\nimport createField from './create-field'\nimport next from './next'\nimport transform from './transform'\nimport webGLRenderer from './web-gl-renderer'\n\n// install service-worker\nif (process.env.NODE_ENV === 'production') {\n  install()\n}\n\n// global vars\nconst state = {\n  play: false,\n  speed: 500,\n  pattern: Array.from(new Array(54000), () => false),\n  width: 300,\n  height: 180,\n  nrOfCells: 54000\n}\n\nconst fieldEl = document.getElementById('field')\nconst playPauseIcon = document.getElementById('play-pause-icon')\nconst fieldModel = () => createField(state.width, state.height)\n\nfunction updateFieldDimensions () {\n  fieldEl.width = window.innerWidth\n  fieldEl.height = window.innerHeight * 0.9\n  state.size = fieldEl.width / state.height\n}\n\nfunction newFieldDimensions () {\n  state.size = Math.sqrt((window.innerWidth * (window.innerHeight * 0.9)) / state.nrOfCells)\n  state.width = Math.floor(window.innerWidth / state.size)\n  state.height = state.nrOfCells / state.width\n}\n\nfunction render (nextPattern) {\n  state.pattern = nextPattern.slice()\n  webGLRenderer(transform(state))\n}\n\nfunction paint (cX, cY, draw) {\n  const nextPattern = state.pattern.slice()\n  const size = fieldEl.width / state.width\n  const row = Math.floor(cY / size)\n  const x = Math.floor(cX / size - 1)\n  const index = x + (row * state.width) + 1\n  nextPattern[index] = draw ? true : !nextPattern[index]\n  render(nextPattern)\n}\n\n// initialize app\nfetch('./public/patterns/index.json')\n.then(data => data.json())\n.then((json) => {\n  const nameListEl = document.getElementById('name-list')\n  json.forEach((pattern) => {\n    const div = document.createElement('div')\n    div.innerHTML = pattern.name\n    div.className = 'name'\n    div.dataset.filename = pattern.filename\n    nameListEl.appendChild(div)\n  })\n})\n\nupdateFieldDimensions()\nnewFieldDimensions()\nrender(state.pattern)\n\nfunction pause () {\n  state.play = false\n  playPauseIcon.classList.toggle('fa-play')\n  playPauseIcon.classList.toggle('fa-pause')\n}\n\n// event handlers\nfunction handleRezise () {\n  let resizeTimeout\n  if (!resizeTimeout) {\n    resizeTimeout = setTimeout(() => {\n      resizeTimeout = null\n      updateFieldDimensions()\n    })\n  }\n}\n\nfunction SpeedDown (e) {\n  if (state.speed < 1000) {\n    state.speed += 50\n  } else {\n    // To do disable button\n  }\n}\n\nfunction SpeedUp () {\n  if (state.speed > 50) {\n    state.speed -= 50\n  }\n}\n\nfunction handleRandom () {\n  newFieldDimensions()\n  const randomPattern = length => Array.from(new Array(length), () => cell => Math.random() > 0.75)\n  render(randomPattern(state.nrOfCells))\n}\n\nfunction handlePlay (e) {\n  state.play = !state.play\n  playPauseIcon.classList.toggle('fa-play')\n  playPauseIcon.classList.toggle('fa-pause')\n  function sleep (ms) {\n    return new Promise(resolve => setTimeout(resolve, ms))\n  }\n  const play = () => {\n    sleep(state.speed).then(() => {\n      render(next(fieldModel(), state.pattern))\n      if (state.play) {\n        play()\n      }\n    })\n  }\n  play()\n}\n\nfunction handleNext () {\n  render(next(fieldModel(), state.pattern))\n}\n\nfunction handleClear () {\n  newFieldDimensions()\n  state.play && pause()\n  render(Array.from(new Array(state.nrOfCells), () => false))\n}\n\nfunction handleAdd (e) {\n  newFieldDimensions()\n  const filename = e.target.dataset.filename\n  if (filename) {\n    fetch(`./public/patterns/${filename}.json`)\n    .then(data => data.json())\n    .then(json => {\n      const middle = Array.from(new Array(json.data.y * state.width), () => false)\n      const startY = 10\n      const startX = 10\n      let n = 0\n      for (let i = 0; i < json.data.y; i++) {\n        for (let j = 0; j < json.data.x; j++) {\n          middle[j + startX + i * state.width] = json.pattern[n]\n          n++\n        }\n      }\n      const nextState = [\n        ...Array.from(new Array(startY * state.width), () => false),\n        ...middle,\n        ...Array.from(new Array(startY * state.width), () => false)\n      ]\n      render(nextState)\n      toggleAddModal()\n    })\n  }\n}\n\nfunction toggleAddModal () {\n  document.getElementById('modal-add').classList.toggle('visible')\n}\n\nfunction handlePaint (e) {\n  paint(e.clientX, e.clientY)\n}\n\nfunction handleDraw (e) {\n  function stop () {\n    e.target.removeEventListener('mousemove', draw)\n  }\n  function draw (e) {\n    paint(e.clientX, e.clientY, true)\n  }\n  e.target.addEventListener('touchmove', (e) => draw(e.changedTouches[0]))\n  e.target.addEventListener('mousemove', draw)\n  e.target.addEventListener('touchend', (e) => stop(e.changedTouches[0]))\n  e.target.addEventListener('mouseup', stop)\n}\n\nwindow.addEventListener('resize', handleRezise)\n\ndocument.getElementById('speed-up').addEventListener('click', SpeedUp)\ndocument.getElementById('speed-down').addEventListener('click', SpeedDown)\ndocument.getElementById('random').addEventListener('click', handleRandom)\ndocument.getElementById('play-pause').addEventListener('click', handlePlay)\ndocument.getElementById('next').addEventListener('click', handleNext)\ndocument.getElementById('clear').addEventListener('click', handleClear)\ndocument.getElementById('add-modal-btn').addEventListener('click', toggleAddModal)\n\ndocument.getElementById('name-list').addEventListener('click', handleAdd)\ndocument.getElementById('modal-add').addEventListener('click', (e) => {\n  e.target === e.currentTarget && toggleAddModal()\n})\n\ndocument.getElementById('field').addEventListener('click', handlePaint)\ndocument.getElementById('field').addEventListener('touchstart', (e) => { handleDraw(e.changedTouches[0]) })\ndocument.getElementById('field').addEventListener('mousedown', handleDraw)\n\n\n\n// WEBPACK FOOTER //\n// ./src/index.js","var appCacheIframe;\n\nfunction hasSW() {\n  return 'serviceWorker' in navigator &&\n    // This is how I block Chrome 40 and detect Chrome 41, because first has\n    // bugs with history.pustState and/or hashchange\n    (window.fetch || 'imageRendering' in document.documentElement.style) &&\n    (window.location.protocol === 'https:' || window.location.hostname === 'localhost' || window.location.hostname.indexOf('127.') === 0)\n}\n\nfunction install(options) {\n  options || (options = {});\n\n  \n    if (hasSW()) {\n      var registration = navigator.serviceWorker\n        .register(\n          \"/game-of-life/sw.js\"\n          \n        );\n\n      \n\n      return;\n    }\n  \n\n  \n    if (window.applicationCache) {\n      var directory = \"/game-of-life/appcache/\";\n      var name = \"manifest\";\n\n      var doLoad = function() {\n        var page = directory + name + '.html';\n        var iframe = document.createElement('iframe');\n\n        \n\n        iframe.src = page;\n        iframe.style.display = 'none';\n\n        appCacheIframe = iframe;\n        document.body.appendChild(iframe);\n      };\n\n      if (document.readyState === 'complete') {\n        setTimeout(doLoad);\n      } else {\n        window.addEventListener('load', doLoad);\n      }\n\n      return;\n    }\n  \n}\n\nfunction applyUpdate(callback, errback) {\n  \n\n  \n}\n\nfunction update() {\n  \n    if (hasSW()) {\n      navigator.serviceWorker.getRegistration().then(function(registration) {\n        if (!registration) return;\n        return registration.update();\n      });\n    }\n  \n\n  \n    if (appCacheIframe) {\n      try {\n        appCacheIframe.contentWindow.applicationCache.update();\n      } catch (e) {}\n    }\n  \n}\n\n\n\nexports.install = install;\nexports.applyUpdate = applyUpdate;\nexports.update = update;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/offline-plugin/runtime.js\n// module id = 1\n// module chunks = 0","const getNeighbors = (i, x, y) => {\n  const total = x * y - 1\n  // top corner left\n  if (i === 0) {\n    return [\n      x - 1,\n      total,\n      total - x + 1,\n      total - x + 2,\n      1,\n      x + 1,\n      x,\n      x * 2 - 1\n    ]\n  }\n  // top corner right\n  if (i === x - 1) {\n    return [\n      x - 2,\n      total - 1,\n      total,\n      total - x + 1,\n      0,\n      i + x,\n      i + x - 1\n    ]\n  }\n  // botom corner left\n  if (i === total - x + 1) {\n    return [\n      total,\n      total - x,\n      i - x,\n      i - x + 1, // right-up\n      i + 1, // right\n      1,\n      0,\n      x - 1\n    ]\n  }\n  // botom corner right\n  if (i === total) {\n    return [\n      i - 1, // left\n      i - x - 1, // left-up\n      i - x, // up\n      total - x * 2 + 1,\n      total - x + 1,\n      0,\n      x - 1,\n      x - 2\n    ]\n  }\n  // top edge\n  if (i < x) {\n    return [\n      i - 1, // left\n      total - (x - 1 - i) - 1, // left-up\n      total - (x - 1 - i), // up\n      total - (x - 1 - i) + 1, // right-up\n      i + 1, // right\n      i + x + 1, // down-right\n      i + x, // down\n      i + x - 1 // down-left\n    ]\n  }\n  // botom edge\n  if (i > total - x) {\n    return [\n      i - 1, // left\n      i - x - 1, // left-up\n      i - x, // up\n      i - x + 1, // right-up\n      i + 1, // right\n      x - 1 - (total - i) + 1,\n      x - 1 - (total - i),\n      x - 1 - (total - i) - 1\n    ]\n  }\n  // right edge\n  if ((i + 1) % x === 0) {\n    return [\n      i - 1, // left\n      i - x - 1, // left-up\n      i - x, // up\n      i - ((x * 2) - 1), // right-up\n      i + 1 - x, // right\n      i + 1, // down-right\n      i + x, // down\n      i + x - 1 // down-left\n    ]\n  }\n  // left edge\n  if (i % x === 0) {\n    return [\n      i + x - 1, // left\n      i - 1, // left-up\n      i - x, // up\n      i - x + 1, // right-up\n      i + 1, // right\n      i + x + 1, // down-right\n      i + x, // down\n      i + 2 * x - 1 // down-left\n    ]\n  }\n  return [\n    i - 1, // left\n    i - x - 1, // left-up\n    i - x, // up\n    i - x + 1, // right-up\n    i + 1, // right\n    i + x + 1, // down-right\n    i + x, // down\n    i + x - 1 // down-left\n  ]\n}\n\nconst createField = (x, y) =>\n  [...Array(x * y).keys()]\n    .map((val, i) =>\n      ({\n        id: i,\n        neighbors: getNeighbors(i, x, y)\n      }))\n\nexport default createField\n\n\n\n// WEBPACK FOOTER //\n// ./src/create-field.js","\nconst next = (field, state) => {\n  const pattern = []\n  for (let i = 0; i < field.length; i++) {\n    const isAlive = (alive, neighbors) => {\n      const livingNeighbors = neighbors.reduce((sum, toCheck) =>\n          state[toCheck] ? sum + 1 : sum, 0)\n      if (alive && livingNeighbors < 2) {\n        return false\n      }\n      if (alive && livingNeighbors >= 2 && livingNeighbors <= 3) {\n        return true\n      }\n      if (!alive && livingNeighbors === 3) {\n        return true\n      }\n      return false\n    }\n    pattern.push(isAlive(state[i], field[i].neighbors))\n  }\n  return pattern\n}\n\nexport default next\n\n\n\n// WEBPACK FOOTER //\n// ./src/next.js","// transforms state to vertices\nfunction transform (state) {\n  const v = []\n  let row = 0\n  let x = 0\n  let y = 0\n  const size = state.size\n  for (let i = 0; i < state.nrOfCells; i += 1) {\n    x += size\n    if (state.pattern[i]) {\n      v.push(\n        // 1st polygon\n        x, y, // left up\n        x + size, y, // right up\n        x, y + size, // left down\n        // 2nd polygon\n        x, y + size, // left down\n        x + size, y + size, // right down\n        x + size, y  // right up\n      )\n    }\n    if (i === state.width * (row + 1) - 1) {\n      // switching to the next row\n      row++\n      y += size\n      x = 0\n    }\n  }\n  return v\n}\n\nexport default transform\n\n\n\n// WEBPACK FOOTER //\n// ./src/transform.js","const fieldCanvas = document.getElementById('field')\nconst gl = fieldCanvas.getContext('webgl')\ngl.clearColor(0.21, 0.25, 0.28, 1)\ngl.clear(gl.COLOR_BUFFER_BIT)\n\nfunction webGLRenderer (v) {\n  gl.clearColor(0.21, 0.25, 0.28, 1)\n  gl.clear(gl.COLOR_BUFFER_BIT)\n  if (v.length > 0) {\n    var vertexShader = gl.createShader(gl.VERTEX_SHADER)\n    gl.shaderSource(vertexShader, `\n      attribute vec2 position;\n      uniform vec2 resolution;\n      void main() {\n        // convert the position from pixels to 0.0 to 1.0\n        vec2 zeroToOne = position / resolution;\n        // convert from 0->1 to 0->2\n        vec2 zeroToTwo = zeroToOne * 2.0;\n        // convert from 0->2 to -1->+1 (clipspace)\n        vec2 clipSpace = zeroToTwo - 1.0;\n           gl_Position = vec4(clipSpace * vec2(1, -1), 0, 1);\n      }`)\n    gl.compileShader(vertexShader)\n\n    var fragmentShader = gl.createShader(gl.FRAGMENT_SHADER)\n    gl.shaderSource(fragmentShader, `\n      precision highp float;\n      uniform vec4 color;\n      void main() {\n        gl_FragColor = color;\n      }`)\n    gl.compileShader(fragmentShader)\n\n    var program = gl.createProgram()\n    gl.attachShader(program, vertexShader)\n    gl.attachShader(program, fragmentShader)\n    gl.linkProgram(program)\n\n    var vertices = Float32Array.from(v)\n\n    var buffer = gl.createBuffer()\n    gl.bindBuffer(gl.ARRAY_BUFFER, buffer)\n    gl.bufferData(gl.ARRAY_BUFFER, vertices, gl.STATIC_DRAW)\n\n    gl.useProgram(program)\n    program.color = gl.getUniformLocation(program, 'color')\n    gl.uniform4fv(program.color, [1, 1, 1, 1.0])\n\n    program.resolution = gl.getUniformLocation(program, 'resolution')\n    gl.uniform2f(program.resolution, gl.canvas.width, gl.canvas.height)\n\n    program.position = gl.getAttribLocation(program, 'position')\n    gl.enableVertexAttribArray(program.position)\n    gl.vertexAttribPointer(program.position, 2, gl.FLOAT, false, 0, 0)\n\n    gl.viewport(0, 0, gl.canvas.width, gl.canvas.height)\n\n    gl.drawArrays(gl.TRIANGLES, 0, vertices.length / 2)\n  }\n}\n\nexport default webGLRenderer\n\n\n\n// WEBPACK FOOTER //\n// ./src/web-gl-renderer.js"],"sourceRoot":""}