{"version":3,"sources":["webpack:///bundle.f54063.js","webpack:///webpack/bootstrap 8036377ba78c3acfc871","webpack:///./src/index.js","webpack:///./node_modules/offline-plugin/runtime.js","webpack:///./src/create-field.js","webpack:///./src/next.js","webpack:///./src/web-gl-renderer.js"],"names":["modules","__webpack_require__","moduleId","installedModules","exports","module","i","l","call","m","c","d","name","getter","o","Object","defineProperty","configurable","enumerable","get","n","__esModule","object","property","prototype","hasOwnProperty","p","s","_interopRequireDefault","obj","default","_toConsumableArray","arr","Array","isArray","arr2","length","from","transform","pattern","v","state","field","slice","row","x","y","push","rowLength","console","log","handleRandom","_webGlRenderer2","randomPattern","handleNext","_next2","fieldModel","handlePlay","e","sleep","ms","arguments","undefined","Promise","resolve","setTimeout","play","then","target","innerHTML","pause","document","getElementById","handleClear","handlePaint","clientX","clientY","_runtime","_createField","_createField2","_next","_webGlRenderer","install","rowHeight","concat","map","cell","Math","random","addEventListener","hasSW","navigator","window","fetch","documentElement","style","location","protocol","hostname","indexOf","options","serviceWorker","register","applicationCache","doLoad","iframe","createElement","src","directory","display","appCacheIframe","body","appendChild","readyState","applyUpdate","callback","errback","update","getRegistration","registration","contentWindow","value","getNeighbors","total","createField","keys","val","id","neighbors","next","alive","livingNeighbors","reduce","sum","toCheck","webGLRenderer","gl","clearColor","clear","COLOR_BUFFER_BIT","vertexShader","createShader","VERTEX_SHADER","shaderSource","compileShader","fragmentShader","FRAGMENT_SHADER","program","createProgram","attachShader","linkProgram","vertices","Float32Array","buffer","createBuffer","bindBuffer","ARRAY_BUFFER","bufferData","STATIC_DRAW","useProgram","color","getUniformLocation","uniform4fv","resolution","uniform2f","position","getAttribLocation","enableVertexAttribArray","vertexAttribPointer","FLOAT","viewport","drawArrays","TRIANGLES","fieldCanvas","getContext"],"mappings":"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","file":"bundle.f54063.js","sourcesContent":["/******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId]) {\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/ \t\t}\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\ti: moduleId,\n/******/ \t\t\tl: false,\n/******/ \t\t\texports: {}\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.l = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// define getter function for harmony exports\n/******/ \t__webpack_require__.d = function(exports, name, getter) {\n/******/ \t\tif(!__webpack_require__.o(exports, name)) {\n/******/ \t\t\tObject.defineProperty(exports, name, {\n/******/ \t\t\t\tconfigurable: false,\n/******/ \t\t\t\tenumerable: true,\n/******/ \t\t\t\tget: getter\n/******/ \t\t\t});\n/******/ \t\t}\n/******/ \t};\n/******/\n/******/ \t// getDefaultExport function for compatibility with non-harmony modules\n/******/ \t__webpack_require__.n = function(module) {\n/******/ \t\tvar getter = module && module.__esModule ?\n/******/ \t\t\tfunction getDefault() { return module['default']; } :\n/******/ \t\t\tfunction getModuleExports() { return module; };\n/******/ \t\t__webpack_require__.d(getter, 'a', getter);\n/******/ \t\treturn getter;\n/******/ \t};\n/******/\n/******/ \t// Object.prototype.hasOwnProperty.call\n/******/ \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(__webpack_require__.s = 0);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar _runtime = __webpack_require__(1);\n\n__webpack_require__(2);\n\nvar _createField = __webpack_require__(3);\n\nvar _createField2 = _interopRequireDefault(_createField);\n\nvar _next = __webpack_require__(4);\n\nvar _next2 = _interopRequireDefault(_next);\n\nvar _webGlRenderer = __webpack_require__(5);\n\nvar _webGlRenderer2 = _interopRequireDefault(_webGlRenderer);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }\n\nif (true) {\n  (0, _runtime.install)();\n}\n\nvar state = {\n  play: false,\n  field: [],\n  rowLength: 100,\n  rowHeight: 60\n};\n\nfunction transform(pattern) {\n  var v = [];\n  state.field = pattern.slice();\n  var row = 0;\n  var x = 0;\n  var y = 0;\n  var i = 0;\n  var size = 10;\n  while (i < 6000) {\n    x += size;\n    if (state.field[i]) {\n      v.push(x, y, // left up\n      x + size, y, // right up\n      x, y + size, // left down\n      // 2nd triangle\n      x, y + size, // left down\n      x + size, y + size, // right down\n      x + size, y // right up\n      );\n    }\n    if (i === state.rowLength * (row + 1)) {\n      row++;\n      y += size;\n      x = 0;\n    }\n    i++;\n  }\n  console.log(v);\n  return v;\n}\n\nvar randomPattern = function randomPattern(length) {\n  return [].concat(_toConsumableArray(Array(length))).map(function (cell) {\n    return Math.random() > 0.75;\n  });\n};\n\nfunction handleRandom() {\n  (0, _webGlRenderer2.default)(transform(randomPattern(6000)));\n}\nvar fieldModel = (0, _createField2.default)(state.rowLength, state.rowHeight);\nfunction handleNext() {\n  (0, _webGlRenderer2.default)(transform((0, _next2.default)(fieldModel, state.field)));\n}\n\nfunction handlePlay(e) {\n  state.play = !state.play;\n  function sleep() {\n    var ms = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n\n    return new Promise(function (resolve) {\n      return setTimeout(resolve, ms);\n    });\n  }\n  var play = function play() {\n    sleep(100).then(function () {\n      (0, _webGlRenderer2.default)(transform((0, _next2.default)(fieldModel, state.field)));\n      if (state.play) {\n        play();\n      }\n    });\n  };\n  play();\n  e.target.innerHTML = state.play ? 'Pause' : 'Play';\n}\nfunction pause() {\n  state.play = false;\n  document.getElementById('play-pause').innerHTML = 'Play';\n}\nfunction handleClear() {\n  state.play && pause();\n  state.field = [];\n  (0, _webGlRenderer2.default)([]);\n}\n\nfunction handlePaint(e) {\n  console.log(e.clientX, e.clientY);\n}\n\ndocument.getElementById('random').addEventListener('click', handleRandom);\ndocument.getElementById('next').addEventListener('click', handleNext);\ndocument.getElementById('play-pause').addEventListener('click', handlePlay);\ndocument.getElementById('clear').addEventListener('click', handleClear);\ndocument.getElementById('field').addEventListener('click', handlePaint);\n\n/***/ }),\n/* 1 */\n/***/ (function(module, exports) {\n\nvar appCacheIframe;\n\nfunction hasSW() {\n  return 'serviceWorker' in navigator &&\n    // This is how I block Chrome 40 and detect Chrome 41, because first has\n    // bugs with history.pustState and/or hashchange\n    (window.fetch || 'imageRendering' in document.documentElement.style) &&\n    (window.location.protocol === 'https:' || window.location.hostname === 'localhost' || window.location.hostname.indexOf('127.') === 0)\n}\n\nfunction install(options) {\n  options || (options = {});\n\n  \n    if (hasSW()) {\n      var registration = navigator.serviceWorker\n        .register(\n          \"/game-of-life/sw.js\"\n          \n        );\n\n      \n\n      return;\n    }\n  \n\n  \n    if (window.applicationCache) {\n      var directory = \"/game-of-life/appcache/\";\n      var name = \"manifest\";\n\n      var doLoad = function() {\n        var page = directory + name + '.html';\n        var iframe = document.createElement('iframe');\n\n        \n\n        iframe.src = page;\n        iframe.style.display = 'none';\n\n        appCacheIframe = iframe;\n        document.body.appendChild(iframe);\n      };\n\n      if (document.readyState === 'complete') {\n        setTimeout(doLoad);\n      } else {\n        window.addEventListener('load', doLoad);\n      }\n\n      return;\n    }\n  \n}\n\nfunction applyUpdate(callback, errback) {\n  \n\n  \n}\n\nfunction update() {\n  \n    if (hasSW()) {\n      navigator.serviceWorker.getRegistration().then(function(registration) {\n        if (!registration) return;\n        return registration.update();\n      });\n    }\n  \n\n  \n    if (appCacheIframe) {\n      try {\n        appCacheIframe.contentWindow.applicationCache.update();\n      } catch (e) {}\n    }\n  \n}\n\n\n\nexports.install = install;\nexports.applyUpdate = applyUpdate;\nexports.update = update;\n\n\n/***/ }),\n/* 2 */\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n/* 3 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nfunction _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }\n\nvar getNeighbors = function getNeighbors(i, x, y) {\n  var total = x * y - 1;\n  // top corner left\n  if (i === 0) {\n    return [x - 1, total, total - x + 1, total - x + 2, 1, x + 1, x, x * 2 - 1];\n  }\n  // top corner right\n  if (i === x - 1) {\n    return [x - 2, total - 1, total, total - x + 1, 0, i + x, i + x - 1];\n  }\n  // botom corner left\n  if (i === total - x + 1) {\n    return [total, total - x, i - x, i - x + 1, // right-up\n    i + 1, // right\n    1, 0, x - 1];\n  }\n  // botom corner right\n  if (i === total) {\n    return [i - 1, // left\n    i - x - 1, // left-up\n    i - x, // up\n    total - x * 2 + 1, total - x + 1, 0, x - 1, x - 2];\n  }\n  // top edge\n  if (i < x) {\n    return [i - 1, // left\n    total - (x - 1 - i) - 1, // left-up\n    total - (x - 1 - i), // up\n    total - (x - 1 - i) + 1, // right-up\n    i + 1, // right\n    i + x + 1, // down-right\n    i + x, // down\n    i + x - 1 // down-left\n    ];\n  }\n  // botom edge\n  if (i > total - x) {\n    return [i - 1, // left\n    i - x - 1, // left-up\n    i - x, // up\n    i - x + 1, // right-up\n    i + 1, // right\n    x - 1 - (total - i) + 1, x - 1 - (total - i), x - 1 - (total - i) - 1];\n  }\n  // right edge\n  if ((i + 1) % x === 0) {\n    return [i - 1, // left\n    i - x - 1, // left-up\n    i - x, // up\n    i - (x * 2 - 1), // right-up\n    i + 1 - x, // right\n    i + 1, // down-right\n    i + x, // down\n    i + x - 1 // down-left\n    ];\n  }\n  // left edge\n  if (i % x === 0) {\n    return [i + x - 1, // left\n    i - 1, // left-up\n    i - x, // up\n    i - x + 1, // right-up\n    i + 1, // right\n    i + x + 1, // down-right\n    i + x, // down\n    i + 2 * x - 1 // down-left\n    ];\n  }\n  return [i - 1, // left\n  i - x - 1, // left-up\n  i - x, // up\n  i - x + 1, // right-up\n  i + 1, // right\n  i + x + 1, // down-right\n  i + x, // down\n  i + x - 1 // down-left\n  ];\n};\n\nvar createField = function createField(x, y) {\n  return [].concat(_toConsumableArray(Array(x * y).keys())).map(function (val, i) {\n    return {\n      id: i,\n      neighbors: getNeighbors(i, x, y)\n    };\n  });\n};\n\nexports.default = createField;\n\n/***/ }),\n/* 4 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar next = function next(field, state) {\n  var pattern = [];\n  for (var i = 0; i < field.length; i++) {\n    var isAlive = function isAlive(alive, neighbors) {\n      var livingNeighbors = neighbors.reduce(function (sum, toCheck) {\n        return state[toCheck] ? sum + 1 : sum;\n      }, 0);\n      if (alive && livingNeighbors < 2) {\n        return false;\n      }\n      if (alive && livingNeighbors >= 2 && livingNeighbors <= 3) {\n        return true;\n      }\n      if (!alive && livingNeighbors === 3) {\n        return true;\n      }\n      return false;\n    };\n    pattern.push(isAlive(state[i], field[i].neighbors));\n  }\n  return pattern;\n};\n\nexports.default = next;\n\n/***/ }),\n/* 5 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nvar fieldCanvas = document.getElementById('field');\nvar gl = fieldCanvas.getContext('webgl');\ngl.clearColor(0.21, 0.25, 0.28, 1);\ngl.clear(gl.COLOR_BUFFER_BIT);\n\nfunction webGLRenderer(v) {\n  gl.clearColor(0.21, 0.25, 0.28, 1);\n  gl.clear(gl.COLOR_BUFFER_BIT);\n  if (v.length > 0) {\n    var vertexShader = gl.createShader(gl.VERTEX_SHADER);\n    gl.shaderSource(vertexShader, '\\n      attribute vec2 position;\\n      uniform vec2 resolution;\\n      void main() {\\n        // convert the position from pixels to 0.0 to 1.0\\n        vec2 zeroToOne = position / resolution;\\n        // convert from 0->1 to 0->2\\n        vec2 zeroToTwo = zeroToOne * 2.0;\\n        // convert from 0->2 to -1->+1 (clipspace)\\n        vec2 clipSpace = zeroToTwo - 1.0;\\n        gl_Position = vec4(clipSpace, 0, 1);\\n      }');\n    gl.compileShader(vertexShader);\n\n    var fragmentShader = gl.createShader(gl.FRAGMENT_SHADER);\n    gl.shaderSource(fragmentShader, '\\n      precision highp float;\\n      uniform vec4 color;\\n      void main() {\\n        gl_FragColor = color;\\n      }');\n    gl.compileShader(fragmentShader);\n\n    var program = gl.createProgram();\n    gl.attachShader(program, vertexShader);\n    gl.attachShader(program, fragmentShader);\n    gl.linkProgram(program);\n\n    var vertices = Float32Array.from(v);\n\n    var buffer = gl.createBuffer();\n    gl.bindBuffer(gl.ARRAY_BUFFER, buffer);\n    gl.bufferData(gl.ARRAY_BUFFER, vertices, gl.STATIC_DRAW);\n\n    gl.useProgram(program);\n    program.color = gl.getUniformLocation(program, 'color');\n    gl.uniform4fv(program.color, [1, 1, 1, 1.0]);\n\n    program.resolution = gl.getUniformLocation(program, 'resolution');\n    gl.uniform2f(program.resolution, 1000, 600);\n\n    program.position = gl.getAttribLocation(program, 'position');\n    gl.enableVertexAttribArray(program.position);\n    gl.vertexAttribPointer(program.position, 2, gl.FLOAT, false, 0, 0);\n\n    gl.viewport(0, 0, 1000, 600);\n\n    gl.drawArrays(gl.TRIANGLES, 0, vertices.length / 2);\n  }\n}\n\nexports.default = webGLRenderer;\n\n/***/ })\n/******/ ]);\n\n\n// WEBPACK FOOTER //\n// bundle.f54063.js"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 8036377ba78c3acfc871","import { install } from 'offline-plugin/runtime'\n\nimport './style.styl'\n\nimport createField from './create-field'\nimport next from './next'\nimport webGLRenderer from './web-gl-renderer'\n\nif (process.env.NODE_ENV === 'production') {\n  install()\n}\n\nconst state = {\n  play: false,\n  field: [],\n  rowLength: 100,\n  rowHeight: 60\n}\n\nfunction transform (pattern) {\n  const v = []\n  state.field = pattern.slice()\n  let row = 0\n  let x = 0\n  let y = 0\n  let i = 0\n  const size = 10\n  while (i < 6000) {\n    x += size\n    if (state.field[i]) {\n      v.push(\n        x, y, // left up\n        x + size, y, // right up\n        x, y + size, // left down\n        // 2nd triangle\n        x, y + size, // left down\n        x + size, y + size, // right down\n        x + size, y  // right up\n      )\n    }\n    if (i === state.rowLength * (row + 1)) {\n      row++\n      y += size\n      x = 0\n    }\n    i++\n  }\n  console.log(v)\n  return v\n}\n\nconst randomPattern = length => [...Array(length)].map(cell => Math.random() > 0.75)\n\nfunction handleRandom () {\n  webGLRenderer(transform(randomPattern(6000)))\n}\nconst fieldModel = createField(state.rowLength, state.rowHeight)\nfunction handleNext () {\n  webGLRenderer(transform(next(fieldModel, state.field)))\n}\n\nfunction handlePlay (e) {\n  state.play = !state.play\n  function sleep (ms = 0) {\n    return new Promise(resolve => setTimeout(resolve, ms))\n  }\n  const play = () => {\n    sleep(100).then(() => {\n      webGLRenderer(transform(next(fieldModel, state.field)))\n      if (state.play) {\n        play()\n      }\n    })\n  }\n  play()\n  e.target.innerHTML = state.play ? 'Pause' : 'Play'\n}\nfunction pause () {\n  state.play = false\n  document.getElementById('play-pause').innerHTML = 'Play'\n}\nfunction handleClear () {\n  state.play && pause()\n  state.field = []\n  webGLRenderer([])\n}\n\nfunction handlePaint (e) {\n  console.log(e.clientX, e.clientY)\n}\n\ndocument.getElementById('random').addEventListener('click', handleRandom)\ndocument.getElementById('next').addEventListener('click', handleNext)\ndocument.getElementById('play-pause').addEventListener('click', handlePlay)\ndocument.getElementById('clear').addEventListener('click', handleClear)\ndocument.getElementById('field').addEventListener('click', handlePaint)\n\n\n\n// WEBPACK FOOTER //\n// ./src/index.js","var appCacheIframe;\n\nfunction hasSW() {\n  return 'serviceWorker' in navigator &&\n    // This is how I block Chrome 40 and detect Chrome 41, because first has\n    // bugs with history.pustState and/or hashchange\n    (window.fetch || 'imageRendering' in document.documentElement.style) &&\n    (window.location.protocol === 'https:' || window.location.hostname === 'localhost' || window.location.hostname.indexOf('127.') === 0)\n}\n\nfunction install(options) {\n  options || (options = {});\n\n  \n    if (hasSW()) {\n      var registration = navigator.serviceWorker\n        .register(\n          \"/game-of-life/sw.js\"\n          \n        );\n\n      \n\n      return;\n    }\n  \n\n  \n    if (window.applicationCache) {\n      var directory = \"/game-of-life/appcache/\";\n      var name = \"manifest\";\n\n      var doLoad = function() {\n        var page = directory + name + '.html';\n        var iframe = document.createElement('iframe');\n\n        \n\n        iframe.src = page;\n        iframe.style.display = 'none';\n\n        appCacheIframe = iframe;\n        document.body.appendChild(iframe);\n      };\n\n      if (document.readyState === 'complete') {\n        setTimeout(doLoad);\n      } else {\n        window.addEventListener('load', doLoad);\n      }\n\n      return;\n    }\n  \n}\n\nfunction applyUpdate(callback, errback) {\n  \n\n  \n}\n\nfunction update() {\n  \n    if (hasSW()) {\n      navigator.serviceWorker.getRegistration().then(function(registration) {\n        if (!registration) return;\n        return registration.update();\n      });\n    }\n  \n\n  \n    if (appCacheIframe) {\n      try {\n        appCacheIframe.contentWindow.applicationCache.update();\n      } catch (e) {}\n    }\n  \n}\n\n\n\nexports.install = install;\nexports.applyUpdate = applyUpdate;\nexports.update = update;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/offline-plugin/runtime.js\n// module id = 1\n// module chunks = 0","const getNeighbors = (i, x, y) => {\n  const total = x * y - 1\n  // top corner left\n  if (i === 0) {\n    return [\n      x - 1,\n      total,\n      total - x + 1,\n      total - x + 2,\n      1,\n      x + 1,\n      x,\n      x * 2 - 1\n    ]\n  }\n  // top corner right\n  if (i === x - 1) {\n    return [\n      x - 2,\n      total - 1,\n      total,\n      total - x + 1,\n      0,\n      i + x,\n      i + x - 1\n    ]\n  }\n  // botom corner left\n  if (i === total - x + 1) {\n    return [\n      total,\n      total - x,\n      i - x,\n      i - x + 1, // right-up\n      i + 1, // right\n      1,\n      0,\n      x - 1\n    ]\n  }\n  // botom corner right\n  if (i === total) {\n    return [\n      i - 1, // left\n      i - x - 1, // left-up\n      i - x, // up\n      total - x * 2 + 1,\n      total - x + 1,\n      0,\n      x - 1,\n      x - 2\n    ]\n  }\n  // top edge\n  if (i < x) {\n    return [\n      i - 1, // left\n      total - (x - 1 - i) - 1, // left-up\n      total - (x - 1 - i), // up\n      total - (x - 1 - i) + 1, // right-up\n      i + 1, // right\n      i + x + 1, // down-right\n      i + x, // down\n      i + x - 1 // down-left\n    ]\n  }\n  // botom edge\n  if (i > total - x) {\n    return [\n      i - 1, // left\n      i - x - 1, // left-up\n      i - x, // up\n      i - x + 1, // right-up\n      i + 1, // right\n      x - 1 - (total - i) + 1,\n      x - 1 - (total - i),\n      x - 1 - (total - i) - 1\n    ]\n  }\n  // right edge\n  if ((i + 1) % x === 0) {\n    return [\n      i - 1, // left\n      i - x - 1, // left-up\n      i - x, // up\n      i - ((x * 2) - 1), // right-up\n      i + 1 - x, // right\n      i + 1, // down-right\n      i + x, // down\n      i + x - 1 // down-left\n    ]\n  }\n  // left edge\n  if (i % x === 0) {\n    return [\n      i + x - 1, // left\n      i - 1, // left-up\n      i - x, // up\n      i - x + 1, // right-up\n      i + 1, // right\n      i + x + 1, // down-right\n      i + x, // down\n      i + 2 * x - 1 // down-left\n    ]\n  }\n  return [\n    i - 1, // left\n    i - x - 1, // left-up\n    i - x, // up\n    i - x + 1, // right-up\n    i + 1, // right\n    i + x + 1, // down-right\n    i + x, // down\n    i + x - 1 // down-left\n  ]\n}\n\nconst createField = (x, y) =>\n  [...Array(x * y).keys()]\n    .map((val, i) =>\n      ({\n        id: i,\n        neighbors: getNeighbors(i, x, y)\n      }))\n\nexport default createField\n\n\n\n// WEBPACK FOOTER //\n// ./src/create-field.js","\nconst next = (field, state) => {\n  const pattern = []\n  for (let i = 0; i < field.length; i++) {\n    const isAlive = (alive, neighbors) => {\n      const livingNeighbors = neighbors.reduce((sum, toCheck) =>\n          state[toCheck] ? sum + 1 : sum, 0)\n      if (alive && livingNeighbors < 2) {\n        return false\n      }\n      if (alive && livingNeighbors >= 2 && livingNeighbors <= 3) {\n        return true\n      }\n      if (!alive && livingNeighbors === 3) {\n        return true\n      }\n      return false\n    }\n    pattern.push(isAlive(state[i], field[i].neighbors))\n  }\n  return pattern\n}\n\nexport default next\n\n\n\n// WEBPACK FOOTER //\n// ./src/next.js","const fieldCanvas = document.getElementById('field')\nconst gl = fieldCanvas.getContext('webgl')\ngl.clearColor(0.21, 0.25, 0.28, 1)\ngl.clear(gl.COLOR_BUFFER_BIT)\n\nfunction webGLRenderer (v) {\n  gl.clearColor(0.21, 0.25, 0.28, 1)\n  gl.clear(gl.COLOR_BUFFER_BIT)\n  if (v.length > 0) {\n    var vertexShader = gl.createShader(gl.VERTEX_SHADER)\n    gl.shaderSource(vertexShader, `\n      attribute vec2 position;\n      uniform vec2 resolution;\n      void main() {\n        // convert the position from pixels to 0.0 to 1.0\n        vec2 zeroToOne = position / resolution;\n        // convert from 0->1 to 0->2\n        vec2 zeroToTwo = zeroToOne * 2.0;\n        // convert from 0->2 to -1->+1 (clipspace)\n        vec2 clipSpace = zeroToTwo - 1.0;\n        gl_Position = vec4(clipSpace, 0, 1);\n      }`)\n    gl.compileShader(vertexShader)\n\n    var fragmentShader = gl.createShader(gl.FRAGMENT_SHADER)\n    gl.shaderSource(fragmentShader, `\n      precision highp float;\n      uniform vec4 color;\n      void main() {\n        gl_FragColor = color;\n      }`)\n    gl.compileShader(fragmentShader)\n\n    var program = gl.createProgram()\n    gl.attachShader(program, vertexShader)\n    gl.attachShader(program, fragmentShader)\n    gl.linkProgram(program)\n\n    var vertices = Float32Array.from(v)\n\n    var buffer = gl.createBuffer()\n    gl.bindBuffer(gl.ARRAY_BUFFER, buffer)\n    gl.bufferData(gl.ARRAY_BUFFER, vertices, gl.STATIC_DRAW)\n\n    gl.useProgram(program)\n    program.color = gl.getUniformLocation(program, 'color')\n    gl.uniform4fv(program.color, [1, 1, 1, 1.0])\n\n    program.resolution = gl.getUniformLocation(program, 'resolution')\n    gl.uniform2f(program.resolution, 1000, 600)\n\n    program.position = gl.getAttribLocation(program, 'position')\n    gl.enableVertexAttribArray(program.position)\n    gl.vertexAttribPointer(program.position, 2, gl.FLOAT, false, 0, 0)\n\n    gl.viewport(0, 0, 1000, 600)\n\n    gl.drawArrays(gl.TRIANGLES, 0, vertices.length / 2)\n  }\n}\n\nexport default webGLRenderer\n\n\n\n// WEBPACK FOOTER //\n// ./src/web-gl-renderer.js"],"sourceRoot":""}