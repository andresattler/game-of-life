{"version":3,"sources":["webpack:///bundle.084a3d.js","webpack:///webpack/bootstrap dc51f4a7751d4455d7f3","webpack:///./src/index.js","webpack:///./node_modules/offline-plugin/runtime.js","webpack:///./src/create-field.js","webpack:///./src/next.js","webpack:///./src/transform.js","webpack:///./src/web-gl-renderer.js"],"names":["modules","__webpack_require__","moduleId","installedModules","exports","module","i","l","call","m","c","d","name","getter","o","Object","defineProperty","configurable","enumerable","get","n","__esModule","object","property","prototype","hasOwnProperty","p","s","_interopRequireDefault","obj","default","_toConsumableArray","arr","Array","isArray","arr2","length","from","updateFieldDimensions","fieldEl","width","window","innerWidth","height","innerHeight","state","size","newFieldDimensions","Math","sqrt","nrOfCells","floor","render","nextPattern","arguments","undefined","pattern","slice","_webGlRenderer2","_transform2","paint","cX","cY","draw","row","x","index","pause","play","playPauseIcon","classList","toggle","handleRezise","resizeTimeout","setTimeout","SpeedDown","e","speed","SpeedUp","handleRandom","random","handlePlay","sleep","ms","Promise","resolve","then","_next2","fieldModel","handleNext","console","log","handleClear","handleAdd","filename","target","dataset","fetch","data","json","middle","y","j","nextState","toggleAddModal","document","getElementById","handlePaint","clientX","clientY","handleDraw","stop","removeEventListener","addEventListener","changedTouches","_runtime","_createField","_createField2","_next","_transform","_webGlRenderer","install","_ref","fileInf","nameListEl","forEach","div","createElement","innerHTML","className","appendChild","currentTarget","hasSW","navigator","documentElement","style","location","protocol","hostname","indexOf","options","serviceWorker","register","applicationCache","doLoad","iframe","src","directory","display","appCacheIframe","body","readyState","applyUpdate","callback","errback","update","getRegistration","registration","contentWindow","value","getNeighbors","total","createField","concat","keys","map","val","id","neighbors","next","field","push","alive","livingNeighbors","reduce","sum","toCheck","transform","v","webGLRenderer","gl","clearColor","clear","COLOR_BUFFER_BIT","vertexShader","createShader","VERTEX_SHADER","shaderSource","compileShader","fragmentShader","FRAGMENT_SHADER","program","createProgram","attachShader","linkProgram","vertices","Float32Array","buffer","createBuffer","bindBuffer","ARRAY_BUFFER","bufferData","STATIC_DRAW","useProgram","color","getUniformLocation","uniform4fv","resolution","uniform2f","canvas","position","getAttribLocation","enableVertexAttribArray","vertexAttribPointer","FLOAT","viewport","drawArrays","TRIANGLES","fieldCanvas","getContext"],"mappings":"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","file":"bundle.084a3d.js","sourcesContent":["/******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId]) {\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/ \t\t}\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\ti: moduleId,\n/******/ \t\t\tl: false,\n/******/ \t\t\texports: {}\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.l = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// define getter function for harmony exports\n/******/ \t__webpack_require__.d = function(exports, name, getter) {\n/******/ \t\tif(!__webpack_require__.o(exports, name)) {\n/******/ \t\t\tObject.defineProperty(exports, name, {\n/******/ \t\t\t\tconfigurable: false,\n/******/ \t\t\t\tenumerable: true,\n/******/ \t\t\t\tget: getter\n/******/ \t\t\t});\n/******/ \t\t}\n/******/ \t};\n/******/\n/******/ \t// getDefaultExport function for compatibility with non-harmony modules\n/******/ \t__webpack_require__.n = function(module) {\n/******/ \t\tvar getter = module && module.__esModule ?\n/******/ \t\t\tfunction getDefault() { return module['default']; } :\n/******/ \t\t\tfunction getModuleExports() { return module; };\n/******/ \t\t__webpack_require__.d(getter, 'a', getter);\n/******/ \t\treturn getter;\n/******/ \t};\n/******/\n/******/ \t// Object.prototype.hasOwnProperty.call\n/******/ \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(__webpack_require__.s = 0);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar _runtime = __webpack_require__(1);\n\n__webpack_require__(2);\n\nvar _createField = __webpack_require__(3);\n\nvar _createField2 = _interopRequireDefault(_createField);\n\nvar _next = __webpack_require__(4);\n\nvar _next2 = _interopRequireDefault(_next);\n\nvar _transform = __webpack_require__(5);\n\nvar _transform2 = _interopRequireDefault(_transform);\n\nvar _webGlRenderer = __webpack_require__(6);\n\nvar _webGlRenderer2 = _interopRequireDefault(_webGlRenderer);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } } /* global fetch */\n\n\n// install service-worker\nif (true) {\n  (0, _runtime.install)();\n}\n\n// global vars\nvar state = {\n  play: false,\n  speed: 250,\n  pattern: Array.from(new Array(500 * 230), function () {\n    return false;\n  }),\n  width: 500,\n  height: 230,\n  nrOfCells: 500 * 230\n};\n\nvar fieldEl = document.getElementById('field');\nvar playPauseIcon = document.getElementById('play-pause-icon');\nvar fieldModel = function fieldModel() {\n  return (0, _createField2.default)(state.width, state.height);\n};\n\nfunction updateFieldDimensions() {\n  fieldEl.width = window.innerWidth;\n  fieldEl.height = window.innerHeight * 0.9;\n  state.size = fieldEl.width / state.width;\n}\n\nfunction newFieldDimensions() {\n  state.size = Math.sqrt(window.innerWidth * (window.innerHeight * 0.9) / state.nrOfCells);\n  state.width = Math.floor(window.innerWidth / state.size);\n  state.height = state.nrOfCells / state.width;\n}\n\nfunction render() {\n  var nextPattern = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : state.pattern;\n\n  state.pattern = nextPattern.slice();\n  (0, _webGlRenderer2.default)((0, _transform2.default)(state));\n}\n\nfunction paint(cX, cY, draw) {\n  var nextPattern = state.pattern.slice();\n  var size = fieldEl.width / state.width;\n  var row = Math.floor(cY / state.size);\n  var x = Math.floor(cX / size - 1);\n  var index = x + row * state.width + 1;\n  nextPattern[index] = draw ? true : !nextPattern[index];\n  render(nextPattern);\n}\n\n// initialize app\nfetch('./patterns/index.json').then(function (data) {\n  return data.json();\n}).then(function (_ref) {\n  var fileInf = _ref.fileInf;\n\n  var nameListEl = document.getElementById('name-list');\n  fileInf.forEach(function (pattern) {\n    var div = document.createElement('div');\n    div.innerHTML = pattern.name;\n    div.className = 'name';\n    div.dataset.filename = pattern.filename;\n    nameListEl.appendChild(div);\n  });\n});\n\nupdateFieldDimensions();\nnewFieldDimensions();\nrender();\n\nfunction pause() {\n  state.play = false;\n  playPauseIcon.classList.toggle('fa-play');\n  playPauseIcon.classList.toggle('fa-pause');\n}\n\n// event handlers\nfunction handleRezise() {\n  var resizeTimeout = void 0;\n  if (!resizeTimeout) {\n    resizeTimeout = setTimeout(function () {\n      resizeTimeout = null;\n      updateFieldDimensions();\n      render();\n    });\n  }\n}\n\nfunction SpeedDown(e) {\n  if (state.speed < 1000) {\n    state.speed += 50;\n  } else {\n    // To do disable button\n  }\n}\n\nfunction SpeedUp() {\n  if (state.speed > 50) {\n    state.speed -= 50;\n  }\n}\n\nfunction handleRandom() {\n  newFieldDimensions();\n  var randomPattern = function randomPattern(length) {\n    return Array.from(new Array(length), function () {\n      return Math.random() > 0.75;\n    });\n  };\n  render(randomPattern(state.nrOfCells));\n}\n\nfunction handlePlay(e) {\n  state.play = !state.play;\n  playPauseIcon.classList.toggle('fa-play');\n  playPauseIcon.classList.toggle('fa-pause');\n  function sleep(ms) {\n    return new Promise(function (resolve) {\n      return setTimeout(resolve, ms);\n    });\n  }\n  var play = function play() {\n    sleep(state.speed).then(function () {\n      render((0, _next2.default)(fieldModel(), state.pattern));\n      if (state.play) {\n        play();\n      }\n    });\n  };\n  play();\n}\n\nfunction handleNext() {\n  console.log(fieldModel());\n  render((0, _next2.default)(fieldModel(), state.pattern));\n}\n\nfunction handleClear() {\n  newFieldDimensions();\n  state.play && pause();\n  render(Array.from(new Array(state.nrOfCells), function () {\n    return false;\n  }));\n}\n\nfunction handleAdd(e) {\n  var filename = e.target.dataset.filename;\n  if (filename) {\n    fetch('./patterns/' + filename + '.json').then(function (data) {\n      return data.json();\n    }).then(function (json) {\n      var middle = Array.from(new Array(json.data.y * state.width), function () {\n        return false;\n      });\n      var startY = 10;\n      var startX = 10;\n      var n = 0;\n      for (var i = 0; i < json.data.y; i++) {\n        for (var j = 0; j < json.data.x; j++) {\n          middle[j + startX + i * state.width] = json.pattern[n];\n          n++;\n        }\n      }\n      var nextState = [].concat(_toConsumableArray(Array.from(new Array(startY * state.width), function () {\n        return false;\n      })), _toConsumableArray(middle), _toConsumableArray(Array.from(new Array(state.nrOfCells - middle.length - startY * state.width), function () {\n        return false;\n      })));\n      render(nextState);\n      toggleAddModal();\n    });\n  }\n}\n\nfunction toggleAddModal() {\n  document.getElementById('modal-add').classList.toggle('visible');\n}\n\nfunction handlePaint(e) {\n  paint(e.clientX, e.clientY);\n}\n\nfunction handleDraw(e) {\n  function stop() {\n    e.target.removeEventListener('mousemove', draw);\n  }\n  function draw(e) {\n    paint(e.clientX, e.clientY, true);\n  }\n  e.target.addEventListener('touchmove', function (e) {\n    return draw(e.changedTouches[0]);\n  });\n  e.target.addEventListener('mousemove', draw);\n  e.target.addEventListener('touchend', function (e) {\n    return stop(e.changedTouches[0]);\n  });\n  e.target.addEventListener('mouseup', stop);\n}\n\nwindow.addEventListener('resize', handleRezise);\n\ndocument.getElementById('speed-up').addEventListener('click', SpeedUp);\ndocument.getElementById('speed-down').addEventListener('click', SpeedDown);\ndocument.getElementById('random').addEventListener('click', handleRandom);\ndocument.getElementById('play-pause').addEventListener('click', handlePlay);\ndocument.getElementById('next').addEventListener('click', handleNext);\ndocument.getElementById('clear').addEventListener('click', handleClear);\ndocument.getElementById('add-modal-btn').addEventListener('click', toggleAddModal);\n\ndocument.getElementById('name-list').addEventListener('click', handleAdd);\ndocument.getElementById('modal-add').addEventListener('click', function (e) {\n  e.target === e.currentTarget && toggleAddModal();\n});\ndocument.getElementById('modal-add').addEventListener('touchstart', function (e) {\n  e.target === e.currentTarget && toggleAddModal();\n});\ndocument.getElementById('field').addEventListener('click', handlePaint);\ndocument.getElementById('field').addEventListener('touchstart', function (e) {\n  handleDraw(e.changedTouches[0]);\n});\ndocument.getElementById('field').addEventListener('mousedown', handleDraw);\n\n/***/ }),\n/* 1 */\n/***/ (function(module, exports) {\n\nvar appCacheIframe;\n\nfunction hasSW() {\n  return 'serviceWorker' in navigator &&\n    // This is how I block Chrome 40 and detect Chrome 41, because first has\n    // bugs with history.pustState and/or hashchange\n    (window.fetch || 'imageRendering' in document.documentElement.style) &&\n    (window.location.protocol === 'https:' || window.location.hostname === 'localhost' || window.location.hostname.indexOf('127.') === 0)\n}\n\nfunction install(options) {\n  options || (options = {});\n\n  \n    if (hasSW()) {\n      var registration = navigator.serviceWorker\n        .register(\n          \"/game-of-life/sw.js\"\n          \n        );\n\n      \n\n      return;\n    }\n  \n\n  \n    if (window.applicationCache) {\n      var directory = \"/game-of-life/appcache/\";\n      var name = \"manifest\";\n\n      var doLoad = function() {\n        var page = directory + name + '.html';\n        var iframe = document.createElement('iframe');\n\n        \n\n        iframe.src = page;\n        iframe.style.display = 'none';\n\n        appCacheIframe = iframe;\n        document.body.appendChild(iframe);\n      };\n\n      if (document.readyState === 'complete') {\n        setTimeout(doLoad);\n      } else {\n        window.addEventListener('load', doLoad);\n      }\n\n      return;\n    }\n  \n}\n\nfunction applyUpdate(callback, errback) {\n  \n\n  \n}\n\nfunction update() {\n  \n    if (hasSW()) {\n      navigator.serviceWorker.getRegistration().then(function(registration) {\n        if (!registration) return;\n        return registration.update();\n      });\n    }\n  \n\n  \n    if (appCacheIframe) {\n      try {\n        appCacheIframe.contentWindow.applicationCache.update();\n      } catch (e) {}\n    }\n  \n}\n\n\n\nexports.install = install;\nexports.applyUpdate = applyUpdate;\nexports.update = update;\n\n\n/***/ }),\n/* 2 */\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n/* 3 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nfunction _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }\n\nvar getNeighbors = function getNeighbors(i, x, y) {\n  var total = x * y - 1;\n  // top corner left\n  if (i === 0) {\n    return [x - 1, total, total - x + 1, total - x + 2, 1, x + 1, x, x * 2 - 1];\n  }\n  // top corner right\n  if (i === x - 1) {\n    return [x - 2, total - 1, total, total - x + 1, 0, i + x, i + x - 1];\n  }\n  // botom corner left\n  if (i === total - x + 1) {\n    return [total, total - x, i - x, i - x + 1, // right-up\n    i + 1, // right\n    1, 0, x - 1];\n  }\n  // botom corner right\n  if (i === total) {\n    return [i - 1, // left\n    i - x - 1, // left-up\n    i - x, // up\n    total - x * 2 + 1, total - x + 1, 0, x - 1, x - 2];\n  }\n  // top edge\n  if (i < x) {\n    return [i - 1, // left\n    total - (x - 1 - i) - 1, // left-up\n    total - (x - 1 - i), // up\n    total - (x - 1 - i) + 1, // right-up\n    i + 1, // right\n    i + x + 1, // down-right\n    i + x, // down\n    i + x - 1 // down-left\n    ];\n  }\n  // botom edge\n  if (i > total - x) {\n    return [i - 1, // left\n    i - x - 1, // left-up\n    i - x, // up\n    i - x + 1, // right-up\n    i + 1, // right\n    x - 1 - (total - i) + 1, x - 1 - (total - i), x - 1 - (total - i) - 1];\n  }\n  // right edge\n  if ((i + 1) % x === 0) {\n    return [i - 1, // left\n    i - x - 1, // left-up\n    i - x, // up\n    i - (x * 2 - 1), // right-up\n    i + 1 - x, // right\n    i + 1, // down-right\n    i + x, // down\n    i + x - 1 // down-left\n    ];\n  }\n  // left edge\n  if (i % x === 0) {\n    return [i + x - 1, // left\n    i - 1, // left-up\n    i - x, // up\n    i - x + 1, // right-up\n    i + 1, // right\n    i + x + 1, // down-right\n    i + x, // down\n    i + 2 * x - 1 // down-left\n    ];\n  }\n  return [i - 1, // left\n  i - x - 1, // left-up\n  i - x, // up\n  i - x + 1, // right-up\n  i + 1, // right\n  i + x + 1, // down-right\n  i + x, // down\n  i + x - 1 // down-left\n  ];\n};\n\nvar createField = function createField(x, y) {\n  return [].concat(_toConsumableArray(Array(x * y).keys())).map(function (val, i) {\n    return {\n      id: i,\n      neighbors: getNeighbors(i, x, y)\n    };\n  });\n};\n\nexports.default = createField;\n\n/***/ }),\n/* 4 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar next = function next(field, state) {\n  var pattern = [];\n  for (var i = 0; i < field.length; i++) {\n    var isAlive = function isAlive(alive, neighbors) {\n      var livingNeighbors = neighbors.reduce(function (sum, toCheck) {\n        return state[toCheck] ? sum + 1 : sum;\n      }, 0);\n      if (alive && livingNeighbors < 2) {\n        return false;\n      }\n      if (alive && livingNeighbors >= 2 && livingNeighbors <= 3) {\n        return true;\n      }\n      if (!alive && livingNeighbors === 3) {\n        return true;\n      }\n      return false;\n    };\n    pattern.push(isAlive(state[i], field[i].neighbors));\n  }\n  return pattern;\n};\n\nexports.default = next;\n\n/***/ }),\n/* 5 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n// transforms state to vertices\nfunction transform(state) {\n  var v = [];\n  var row = 0;\n  var x = 0;\n  var y = 0;\n  var size = state.size;\n  for (var i = 0; i < state.nrOfCells; i += 1) {\n    if (state.pattern[i]) {\n      v.push(\n      // 1st polygon\n      x, y, // left up\n      x + size, y, // right up\n      x, y + size, // left down\n      // 2nd polygon\n      x, y + size, // left down\n      x + size, y + size, // right down\n      x + size, y // right up\n      );\n    }\n    x += size;\n    if (i === state.width * (row + 1) - 1) {\n      // switching to the next row\n      row++;\n      y += size;\n      x = 0;\n    }\n  }\n  return v;\n}\n\nexports.default = transform;\n\n/***/ }),\n/* 6 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nvar fieldCanvas = document.getElementById('field');\nvar gl = fieldCanvas.getContext('webgl');\ngl.clearColor(0.21, 0.25, 0.28, 1);\ngl.clear(gl.COLOR_BUFFER_BIT);\n\nfunction webGLRenderer(v) {\n  gl.clearColor(0.21, 0.25, 0.28, 1);\n  gl.clear(gl.COLOR_BUFFER_BIT);\n  if (v.length > 0) {\n    var vertexShader = gl.createShader(gl.VERTEX_SHADER);\n    gl.shaderSource(vertexShader, '\\n      attribute vec2 position;\\n      uniform vec2 resolution;\\n      void main() {\\n        // convert the position from pixels to 0.0 to 1.0\\n        vec2 zeroToOne = position / resolution;\\n        // convert from 0->1 to 0->2\\n        vec2 zeroToTwo = zeroToOne * 2.0;\\n        // convert from 0->2 to -1->+1 (clipspace)\\n        vec2 clipSpace = zeroToTwo - 1.0;\\n           gl_Position = vec4(clipSpace * vec2(1, -1), 0, 1);\\n      }');\n    gl.compileShader(vertexShader);\n\n    var fragmentShader = gl.createShader(gl.FRAGMENT_SHADER);\n    gl.shaderSource(fragmentShader, '\\n      precision highp float;\\n      uniform vec4 color;\\n      void main() {\\n        gl_FragColor = color;\\n      }');\n    gl.compileShader(fragmentShader);\n\n    var program = gl.createProgram();\n    gl.attachShader(program, vertexShader);\n    gl.attachShader(program, fragmentShader);\n    gl.linkProgram(program);\n\n    var vertices = Float32Array.from(v);\n\n    var buffer = gl.createBuffer();\n    gl.bindBuffer(gl.ARRAY_BUFFER, buffer);\n    gl.bufferData(gl.ARRAY_BUFFER, vertices, gl.STATIC_DRAW);\n\n    gl.useProgram(program);\n    program.color = gl.getUniformLocation(program, 'color');\n    gl.uniform4fv(program.color, [1, 1, 1, 1.0]);\n\n    program.resolution = gl.getUniformLocation(program, 'resolution');\n    gl.uniform2f(program.resolution, gl.canvas.width, gl.canvas.height);\n\n    program.position = gl.getAttribLocation(program, 'position');\n    gl.enableVertexAttribArray(program.position);\n    gl.vertexAttribPointer(program.position, 2, gl.FLOAT, false, 0, 0);\n\n    gl.viewport(0, 0, gl.canvas.width, gl.canvas.height);\n\n    gl.drawArrays(gl.TRIANGLES, 0, vertices.length / 2);\n  }\n}\n\nexports.default = webGLRenderer;\n\n/***/ })\n/******/ ]);\n\n\n// WEBPACK FOOTER //\n// bundle.084a3d.js"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap dc51f4a7751d4455d7f3","/* global fetch */\nimport { install } from 'offline-plugin/runtime'\n\nimport './style.styl'\n\nimport createField from './create-field'\nimport next from './next'\nimport transform from './transform'\nimport webGLRenderer from './web-gl-renderer'\n\n// install service-worker\nif (process.env.NODE_ENV === 'production') {\n  install()\n}\n\n// global vars\nconst state = {\n  play: false,\n  speed: 250,\n  pattern: Array.from(new Array(500 * 230), () => false),\n  width: 500,\n  height: 230,\n  nrOfCells: 500 * 230\n}\n\nconst fieldEl = document.getElementById('field')\nconst playPauseIcon = document.getElementById('play-pause-icon')\nconst fieldModel = () => createField(state.width, state.height)\n\nfunction updateFieldDimensions () {\n  fieldEl.width = window.innerWidth\n  fieldEl.height = window.innerHeight * 0.9\n  state.size = fieldEl.width / state.width\n}\n\nfunction newFieldDimensions () {\n  state.size = Math.sqrt((window.innerWidth * (window.innerHeight * 0.9)) / state.nrOfCells)\n  state.width = Math.floor(window.innerWidth / state.size)\n  state.height = state.nrOfCells / state.width\n}\n\nfunction render (nextPattern = state.pattern) {\n  state.pattern = nextPattern.slice()\n  webGLRenderer(transform(state))\n}\n\nfunction paint (cX, cY, draw) {\n  const nextPattern = state.pattern.slice()\n  const size = fieldEl.width / state.width\n  const row = Math.floor(cY / state.size)\n  const x = Math.floor(cX / size - 1)\n  const index = x + (row * state.width) + 1\n  nextPattern[index] = draw ? true : !nextPattern[index]\n  render(nextPattern)\n}\n\n// initialize app\nfetch('./patterns/index.json')\n.then(data => data.json())\n.then(({fileInf}) => {\n  const nameListEl = document.getElementById('name-list')\n  fileInf.forEach((pattern) => {\n    const div = document.createElement('div')\n    div.innerHTML = pattern.name\n    div.className = 'name'\n    div.dataset.filename = pattern.filename\n    nameListEl.appendChild(div)\n  })\n})\n\nupdateFieldDimensions()\nnewFieldDimensions()\nrender()\n\nfunction pause () {\n  state.play = false\n  playPauseIcon.classList.toggle('fa-play')\n  playPauseIcon.classList.toggle('fa-pause')\n}\n\n// event handlers\nfunction handleRezise () {\n  let resizeTimeout\n  if (!resizeTimeout) {\n    resizeTimeout = setTimeout(() => {\n      resizeTimeout = null\n      updateFieldDimensions()\n      render()\n    })\n  }\n}\n\nfunction SpeedDown (e) {\n  if (state.speed < 1000) {\n    state.speed += 50\n  } else {\n    // To do disable button\n  }\n}\n\nfunction SpeedUp () {\n  if (state.speed > 50) {\n    state.speed -= 50\n  }\n}\n\nfunction handleRandom () {\n  newFieldDimensions()\n  const randomPattern = length => Array.from(new Array(length), () => Math.random() > 0.75)\n  render(randomPattern(state.nrOfCells))\n}\n\nfunction handlePlay (e) {\n  state.play = !state.play\n  playPauseIcon.classList.toggle('fa-play')\n  playPauseIcon.classList.toggle('fa-pause')\n  function sleep (ms) {\n    return new Promise(resolve => setTimeout(resolve, ms))\n  }\n  const play = () => {\n    sleep(state.speed).then(() => {\n      render(next(fieldModel(), state.pattern))\n      if (state.play) {\n        play()\n      }\n    })\n  }\n  play()\n}\n\nfunction handleNext () {\n  console.log(fieldModel())\n  render(next(fieldModel(), state.pattern))\n}\n\nfunction handleClear () {\n  newFieldDimensions()\n  state.play && pause()\n  render(Array.from(new Array(state.nrOfCells), () => false))\n}\n\nfunction handleAdd (e) {\n  const filename = e.target.dataset.filename\n  if (filename) {\n    fetch(`./patterns/${filename}.json`)\n    .then(data => data.json())\n    .then((json) => {\n      const middle = Array.from(new Array(json.data.y * state.width), () => false)\n      const startY = 10\n      const startX = 10\n      let n = 0\n      for (let i = 0; i < json.data.y; i++) {\n        for (let j = 0; j < json.data.x; j++) {\n          middle[j + startX + i * state.width] = json.pattern[n]\n          n++\n        }\n      }\n      const nextState = [\n        ...Array.from(new Array(startY * state.width), () => false),\n        ...middle,\n        ...Array.from(new Array(state.nrOfCells - middle.length - (startY * state.width)), () => false)\n      ]\n      render(nextState)\n      toggleAddModal()\n    })\n  }\n}\n\nfunction toggleAddModal () {\n  document.getElementById('modal-add').classList.toggle('visible')\n}\n\nfunction handlePaint (e) {\n  paint(e.clientX, e.clientY)\n}\n\nfunction handleDraw (e) {\n  function stop () {\n    e.target.removeEventListener('mousemove', draw)\n  }\n  function draw (e) {\n    paint(e.clientX, e.clientY, true)\n  }\n  e.target.addEventListener('touchmove', (e) => draw(e.changedTouches[0]))\n  e.target.addEventListener('mousemove', draw)\n  e.target.addEventListener('touchend', (e) => stop(e.changedTouches[0]))\n  e.target.addEventListener('mouseup', stop)\n}\n\nwindow.addEventListener('resize', handleRezise)\n\ndocument.getElementById('speed-up').addEventListener('click', SpeedUp)\ndocument.getElementById('speed-down').addEventListener('click', SpeedDown)\ndocument.getElementById('random').addEventListener('click', handleRandom)\ndocument.getElementById('play-pause').addEventListener('click', handlePlay)\ndocument.getElementById('next').addEventListener('click', handleNext)\ndocument.getElementById('clear').addEventListener('click', handleClear)\ndocument.getElementById('add-modal-btn').addEventListener('click', toggleAddModal)\n\ndocument.getElementById('name-list').addEventListener('click', handleAdd)\ndocument.getElementById('modal-add').addEventListener('click', (e) => {\n  e.target === e.currentTarget && toggleAddModal()\n})\ndocument.getElementById('modal-add').addEventListener('touchstart', (e) => {\n  e.target === e.currentTarget && toggleAddModal()\n})\ndocument.getElementById('field').addEventListener('click', handlePaint)\ndocument.getElementById('field').addEventListener('touchstart', (e) => { handleDraw(e.changedTouches[0]) })\ndocument.getElementById('field').addEventListener('mousedown', handleDraw)\n\n\n\n// WEBPACK FOOTER //\n// ./src/index.js","var appCacheIframe;\n\nfunction hasSW() {\n  return 'serviceWorker' in navigator &&\n    // This is how I block Chrome 40 and detect Chrome 41, because first has\n    // bugs with history.pustState and/or hashchange\n    (window.fetch || 'imageRendering' in document.documentElement.style) &&\n    (window.location.protocol === 'https:' || window.location.hostname === 'localhost' || window.location.hostname.indexOf('127.') === 0)\n}\n\nfunction install(options) {\n  options || (options = {});\n\n  \n    if (hasSW()) {\n      var registration = navigator.serviceWorker\n        .register(\n          \"/game-of-life/sw.js\"\n          \n        );\n\n      \n\n      return;\n    }\n  \n\n  \n    if (window.applicationCache) {\n      var directory = \"/game-of-life/appcache/\";\n      var name = \"manifest\";\n\n      var doLoad = function() {\n        var page = directory + name + '.html';\n        var iframe = document.createElement('iframe');\n\n        \n\n        iframe.src = page;\n        iframe.style.display = 'none';\n\n        appCacheIframe = iframe;\n        document.body.appendChild(iframe);\n      };\n\n      if (document.readyState === 'complete') {\n        setTimeout(doLoad);\n      } else {\n        window.addEventListener('load', doLoad);\n      }\n\n      return;\n    }\n  \n}\n\nfunction applyUpdate(callback, errback) {\n  \n\n  \n}\n\nfunction update() {\n  \n    if (hasSW()) {\n      navigator.serviceWorker.getRegistration().then(function(registration) {\n        if (!registration) return;\n        return registration.update();\n      });\n    }\n  \n\n  \n    if (appCacheIframe) {\n      try {\n        appCacheIframe.contentWindow.applicationCache.update();\n      } catch (e) {}\n    }\n  \n}\n\n\n\nexports.install = install;\nexports.applyUpdate = applyUpdate;\nexports.update = update;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/offline-plugin/runtime.js\n// module id = 1\n// module chunks = 0","const getNeighbors = (i, x, y) => {\n  const total = x * y - 1\n  // top corner left\n  if (i === 0) {\n    return [\n      x - 1,\n      total,\n      total - x + 1,\n      total - x + 2,\n      1,\n      x + 1,\n      x,\n      x * 2 - 1\n    ]\n  }\n  // top corner right\n  if (i === x - 1) {\n    return [\n      x - 2,\n      total - 1,\n      total,\n      total - x + 1,\n      0,\n      i + x,\n      i + x - 1\n    ]\n  }\n  // botom corner left\n  if (i === total - x + 1) {\n    return [\n      total,\n      total - x,\n      i - x,\n      i - x + 1, // right-up\n      i + 1, // right\n      1,\n      0,\n      x - 1\n    ]\n  }\n  // botom corner right\n  if (i === total) {\n    return [\n      i - 1, // left\n      i - x - 1, // left-up\n      i - x, // up\n      total - x * 2 + 1,\n      total - x + 1,\n      0,\n      x - 1,\n      x - 2\n    ]\n  }\n  // top edge\n  if (i < x) {\n    return [\n      i - 1, // left\n      total - (x - 1 - i) - 1, // left-up\n      total - (x - 1 - i), // up\n      total - (x - 1 - i) + 1, // right-up\n      i + 1, // right\n      i + x + 1, // down-right\n      i + x, // down\n      i + x - 1 // down-left\n    ]\n  }\n  // botom edge\n  if (i > total - x) {\n    return [\n      i - 1, // left\n      i - x - 1, // left-up\n      i - x, // up\n      i - x + 1, // right-up\n      i + 1, // right\n      x - 1 - (total - i) + 1,\n      x - 1 - (total - i),\n      x - 1 - (total - i) - 1\n    ]\n  }\n  // right edge\n  if ((i + 1) % x === 0) {\n    return [\n      i - 1, // left\n      i - x - 1, // left-up\n      i - x, // up\n      i - ((x * 2) - 1), // right-up\n      i + 1 - x, // right\n      i + 1, // down-right\n      i + x, // down\n      i + x - 1 // down-left\n    ]\n  }\n  // left edge\n  if (i % x === 0) {\n    return [\n      i + x - 1, // left\n      i - 1, // left-up\n      i - x, // up\n      i - x + 1, // right-up\n      i + 1, // right\n      i + x + 1, // down-right\n      i + x, // down\n      i + 2 * x - 1 // down-left\n    ]\n  }\n  return [\n    i - 1, // left\n    i - x - 1, // left-up\n    i - x, // up\n    i - x + 1, // right-up\n    i + 1, // right\n    i + x + 1, // down-right\n    i + x, // down\n    i + x - 1 // down-left\n  ]\n}\n\nconst createField = (x, y) =>\n  [...Array(x * y).keys()]\n    .map((val, i) =>\n      ({\n        id: i,\n        neighbors: getNeighbors(i, x, y)\n      }))\n\nexport default createField\n\n\n\n// WEBPACK FOOTER //\n// ./src/create-field.js","\nconst next = (field, state) => {\n  const pattern = []\n  for (let i = 0; i < field.length; i++) {\n    const isAlive = (alive, neighbors) => {\n      const livingNeighbors = neighbors.reduce((sum, toCheck) =>\n          state[toCheck] ? sum + 1 : sum, 0)\n      if (alive && livingNeighbors < 2) {\n        return false\n      }\n      if (alive && livingNeighbors >= 2 && livingNeighbors <= 3) {\n        return true\n      }\n      if (!alive && livingNeighbors === 3) {\n        return true\n      }\n      return false\n    }\n    pattern.push(isAlive(state[i], field[i].neighbors))\n  }\n  return pattern\n}\n\nexport default next\n\n\n\n// WEBPACK FOOTER //\n// ./src/next.js","// transforms state to vertices\nfunction transform (state) {\n  const v = []\n  let row = 0\n  let x = 0\n  let y = 0\n  const size = state.size\n  for (let i = 0; i < state.nrOfCells; i += 1) {\n    if (state.pattern[i]) {\n      v.push(\n        // 1st polygon\n        x, y, // left up\n        x + size, y, // right up\n        x, y + size, // left down\n        // 2nd polygon\n        x, y + size, // left down\n        x + size, y + size, // right down\n        x + size, y  // right up\n      )\n    }\n    x += size\n    if (i === state.width * (row + 1) - 1) {\n      // switching to the next row\n      row++\n      y += size\n      x = 0\n    }\n  }\n  return v\n}\n\nexport default transform\n\n\n\n// WEBPACK FOOTER //\n// ./src/transform.js","const fieldCanvas = document.getElementById('field')\nconst gl = fieldCanvas.getContext('webgl')\ngl.clearColor(0.21, 0.25, 0.28, 1)\ngl.clear(gl.COLOR_BUFFER_BIT)\n\nfunction webGLRenderer (v) {\n  gl.clearColor(0.21, 0.25, 0.28, 1)\n  gl.clear(gl.COLOR_BUFFER_BIT)\n  if (v.length > 0) {\n    var vertexShader = gl.createShader(gl.VERTEX_SHADER)\n    gl.shaderSource(vertexShader, `\n      attribute vec2 position;\n      uniform vec2 resolution;\n      void main() {\n        // convert the position from pixels to 0.0 to 1.0\n        vec2 zeroToOne = position / resolution;\n        // convert from 0->1 to 0->2\n        vec2 zeroToTwo = zeroToOne * 2.0;\n        // convert from 0->2 to -1->+1 (clipspace)\n        vec2 clipSpace = zeroToTwo - 1.0;\n           gl_Position = vec4(clipSpace * vec2(1, -1), 0, 1);\n      }`)\n    gl.compileShader(vertexShader)\n\n    var fragmentShader = gl.createShader(gl.FRAGMENT_SHADER)\n    gl.shaderSource(fragmentShader, `\n      precision highp float;\n      uniform vec4 color;\n      void main() {\n        gl_FragColor = color;\n      }`)\n    gl.compileShader(fragmentShader)\n\n    var program = gl.createProgram()\n    gl.attachShader(program, vertexShader)\n    gl.attachShader(program, fragmentShader)\n    gl.linkProgram(program)\n\n    var vertices = Float32Array.from(v)\n\n    var buffer = gl.createBuffer()\n    gl.bindBuffer(gl.ARRAY_BUFFER, buffer)\n    gl.bufferData(gl.ARRAY_BUFFER, vertices, gl.STATIC_DRAW)\n\n    gl.useProgram(program)\n    program.color = gl.getUniformLocation(program, 'color')\n    gl.uniform4fv(program.color, [1, 1, 1, 1.0])\n\n    program.resolution = gl.getUniformLocation(program, 'resolution')\n    gl.uniform2f(program.resolution, gl.canvas.width, gl.canvas.height)\n\n    program.position = gl.getAttribLocation(program, 'position')\n    gl.enableVertexAttribArray(program.position)\n    gl.vertexAttribPointer(program.position, 2, gl.FLOAT, false, 0, 0)\n\n    gl.viewport(0, 0, gl.canvas.width, gl.canvas.height)\n\n    gl.drawArrays(gl.TRIANGLES, 0, vertices.length / 2)\n  }\n}\n\nexport default webGLRenderer\n\n\n\n// WEBPACK FOOTER //\n// ./src/web-gl-renderer.js"],"sourceRoot":""}